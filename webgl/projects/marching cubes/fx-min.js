!function(f,g){if("object"==typeof exports&&"object"==typeof module)module.exports=g();else if("function"==typeof define&&define.amd)define(g);else{var d=g(),h;for(h in d)("object"==typeof exports?exports:f)[h]=d[h]}}(this,function(){return function(f){function g(h){if(d[h])return d[h].exports;var b=d[h]={exports:{},id:h,loaded:!1};return f[h].call(b.exports,b,b.exports,g),b.loaded=!0,b.exports}var d={};return g.m=f,g.c=d,g.p="",g(0)}([function(f,g,d){g.glMatrix=d(1);g.mat2=d(2);g.mat2d=d(3);g.mat3=
d(4);g.mat4=d(5);g.quat=d(6);g.vec2=d(9);g.vec3=d(7);g.vec4=d(8)},function(f,g){var d={EPSILON:1E-6};d.ARRAY_TYPE="undefined"!=typeof Float32Array?Float32Array:Array;d.RANDOM=Math.random;d.ENABLE_SIMD=!1;d.SIMD_AVAILABLE=d.ARRAY_TYPE===Float32Array&&"SIMD"in this;d.USE_SIMD=d.ENABLE_SIMD&&d.SIMD_AVAILABLE;d.setMatrixArrayType=function(b){d.ARRAY_TYPE=b};var h=Math.PI/180;d.toRadian=function(b){return b*h};f.exports=d},function(f,g,d){var h=d(1);g={create:function(){var b=new h.ARRAY_TYPE(4);return b[0]=
1,b[1]=0,b[2]=0,b[3]=1,b},clone:function(b){var a=new h.ARRAY_TYPE(4);return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a},copy:function(b,a){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b},identity:function(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=1,b},transpose:function(b,a){if(b===a){var c=a[1];b[1]=a[2];b[2]=c}else b[0]=a[0],b[1]=a[2],b[2]=a[1],b[3]=a[3];return b},invert:function(b,a){var c=a[0],e=a[1],n=a[2],l=a[3],k=c*l-n*e;return k?(k=1/k,b[0]=l*k,b[1]=-e*k,b[2]=-n*k,b[3]=c*k,b):null},adjoint:function(b,
a){var c=a[0];return b[0]=a[3],b[1]=-a[1],b[2]=-a[2],b[3]=c,b},determinant:function(b){return b[0]*b[3]-b[2]*b[1]},multiply:function(b,a,c){var e=a[0],n=a[1],l=a[2];a=a[3];var k=c[0],m=c[1],y=c[2];c=c[3];return b[0]=e*k+l*m,b[1]=n*k+a*m,b[2]=e*y+l*c,b[3]=n*y+a*c,b}};g.mul=g.multiply;g.rotate=function(b,a,c){var e=a[0],n=a[1],l=a[2];a=a[3];var k=Math.sin(c);c=Math.cos(c);return b[0]=e*c+l*k,b[1]=n*c+a*k,b[2]=e*-k+l*c,b[3]=n*-k+a*c,b};g.scale=function(b,a,c){var e=a[1],n=a[2],l=a[3],k=c[0];c=c[1];return b[0]=
a[0]*k,b[1]=e*k,b[2]=n*c,b[3]=l*c,b};g.fromRotation=function(b,a){var c=Math.sin(a),e=Math.cos(a);return b[0]=e,b[1]=c,b[2]=-c,b[3]=e,b};g.fromScaling=function(b,a){return b[0]=a[0],b[1]=0,b[2]=0,b[3]=a[1],b};g.str=function(b){return"mat2("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+")"};g.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2))};g.LDU=function(b,a,c,e){return b[2]=e[2]/e[0],c[0]=e[0],c[1]=e[1],c[3]=e[3]-b[2]*c[1],[b,a,c]};f.exports=g},function(f,
g,d){var h=d(1);g={create:function(){var b=new h.ARRAY_TYPE(6);return b[0]=1,b[1]=0,b[2]=0,b[3]=1,b[4]=0,b[5]=0,b},clone:function(b){var a=new h.ARRAY_TYPE(6);return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a},copy:function(b,a){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b},identity:function(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=1,b[4]=0,b[5]=0,b},invert:function(b,a){var c=a[0],e=a[1],n=a[2],l=a[3],k=a[4],m=a[5],y=c*l-e*n;return y?(y=1/y,b[0]=l*y,b[1]=-e*
y,b[2]=-n*y,b[3]=c*y,b[4]=(n*m-l*k)*y,b[5]=(e*k-c*m)*y,b):null},determinant:function(b){return b[0]*b[3]-b[1]*b[2]},multiply:function(b,a,c){var e=a[0],n=a[1],l=a[2],k=a[3],m=a[4];a=a[5];var y=c[0],d=c[1],f=c[2],h=c[3],g=c[4];c=c[5];return b[0]=e*y+l*d,b[1]=n*y+k*d,b[2]=e*f+l*h,b[3]=n*f+k*h,b[4]=e*g+l*c+m,b[5]=n*g+k*c+a,b}};g.mul=g.multiply;g.rotate=function(b,a,c){var e=a[0],n=a[1],l=a[2],k=a[3],m=a[4];a=a[5];var y=Math.sin(c);c=Math.cos(c);return b[0]=e*c+l*y,b[1]=n*c+k*y,b[2]=e*-y+l*c,b[3]=n*-y+
k*c,b[4]=m,b[5]=a,b};g.scale=function(b,a,c){var e=a[1],n=a[2],l=a[3],k=a[4],m=a[5],y=c[0];c=c[1];return b[0]=a[0]*y,b[1]=e*y,b[2]=n*c,b[3]=l*c,b[4]=k,b[5]=m,b};g.translate=function(b,a,c){var e=a[0],n=a[1],l=a[2],k=a[3],m=a[4];a=a[5];var y=c[0];c=c[1];return b[0]=e,b[1]=n,b[2]=l,b[3]=k,b[4]=e*y+l*c+m,b[5]=n*y+k*c+a,b};g.fromRotation=function(b,a){var c=Math.sin(a),e=Math.cos(a);return b[0]=e,b[1]=c,b[2]=-c,b[3]=e,b[4]=0,b[5]=0,b};g.fromScaling=function(b,a){return b[0]=a[0],b[1]=0,b[2]=0,b[3]=a[1],
b[4]=0,b[5]=0,b};g.fromTranslation=function(b,a){return b[0]=1,b[1]=0,b[2]=0,b[3]=1,b[4]=a[0],b[5]=a[1],b};g.str=function(b){return"mat2d("+b[0]+", "+b[1]+", "+b[2]+", "+b[3]+", "+b[4]+", "+b[5]+")"};g.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+1)};f.exports=g},function(f,g,d){var h=d(1);g={create:function(){var b=new h.ARRAY_TYPE(9);return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=1,b[5]=0,b[6]=0,b[7]=0,b[8]=1,b},
fromMat4:function(b,a){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[4],b[4]=a[5],b[5]=a[6],b[6]=a[8],b[7]=a[9],b[8]=a[10],b},clone:function(b){var a=new h.ARRAY_TYPE(9);return a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a},copy:function(b,a){return b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b[4]=a[4],b[5]=a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b},identity:function(b){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=1,b[5]=0,b[6]=0,b[7]=0,b[8]=1,b},transpose:function(b,
a){if(b===a){var c=a[1],e=a[2],n=a[5];b[1]=a[3];b[2]=a[6];b[3]=c;b[5]=a[7];b[6]=e;b[7]=n}else b[0]=a[0],b[1]=a[3],b[2]=a[6],b[3]=a[1],b[4]=a[4],b[5]=a[7],b[6]=a[2],b[7]=a[5],b[8]=a[8];return b},invert:function(b,a){var c=a[0],e=a[1],n=a[2],l=a[3],k=a[4],m=a[5],y=a[6],d=a[7],f=a[8],h=f*k-m*d,g=-f*l+m*y,r=d*l-k*y,q=c*h+e*g+n*r;return q?(q=1/q,b[0]=h*q,b[1]=(-f*e+n*d)*q,b[2]=(m*e-n*k)*q,b[3]=g*q,b[4]=(f*c-n*y)*q,b[5]=(-m*c+n*l)*q,b[6]=r*q,b[7]=(-d*c+e*y)*q,b[8]=(k*c-e*l)*q,b):null},adjoint:function(b,
a){var c=a[0],e=a[1],n=a[2],l=a[3],k=a[4],m=a[5],y=a[6],d=a[7],f=a[8];return b[0]=k*f-m*d,b[1]=n*d-e*f,b[2]=e*m-n*k,b[3]=m*y-l*f,b[4]=c*f-n*y,b[5]=n*l-c*m,b[6]=l*d-k*y,b[7]=e*y-c*d,b[8]=c*k-e*l,b},determinant:function(b){var a=b[3],c=b[4],e=b[5],n=b[6],l=b[7],k=b[8];return b[0]*(k*c-e*l)+b[1]*(-k*a+e*n)+b[2]*(l*a-c*n)},multiply:function(b,a,c){var e=a[0],n=a[1],l=a[2],k=a[3],m=a[4],y=a[5],d=a[6],f=a[7];a=a[8];var h=c[0],g=c[1],r=c[2],q=c[3],v=c[4],w=c[5],x=c[6],B=c[7];c=c[8];return b[0]=h*e+g*k+r*
d,b[1]=h*n+g*m+r*f,b[2]=h*l+g*y+r*a,b[3]=q*e+v*k+w*d,b[4]=q*n+v*m+w*f,b[5]=q*l+v*y+w*a,b[6]=x*e+B*k+c*d,b[7]=x*n+B*m+c*f,b[8]=x*l+B*y+c*a,b}};g.mul=g.multiply;g.translate=function(b,a,c){var e=a[0],n=a[1],l=a[2],k=a[3],m=a[4],y=a[5],d=a[6],f=a[7];a=a[8];var h=c[0];c=c[1];return b[0]=e,b[1]=n,b[2]=l,b[3]=k,b[4]=m,b[5]=y,b[6]=h*e+c*k+d,b[7]=h*n+c*m+f,b[8]=h*l+c*y+a,b};g.rotate=function(b,a,c){var e=a[0],n=a[1],l=a[2],k=a[3],m=a[4],d=a[5],f=a[6],h=a[7];a=a[8];var g=Math.sin(c);c=Math.cos(c);return b[0]=
c*e+g*k,b[1]=c*n+g*m,b[2]=c*l+g*d,b[3]=c*k-g*e,b[4]=c*m-g*n,b[5]=c*d-g*l,b[6]=f,b[7]=h,b[8]=a,b};g.scale=function(b,a,c){var e=c[0];c=c[1];return b[0]=e*a[0],b[1]=e*a[1],b[2]=e*a[2],b[3]=c*a[3],b[4]=c*a[4],b[5]=c*a[5],b[6]=a[6],b[7]=a[7],b[8]=a[8],b};g.fromTranslation=function(b,a){return b[0]=1,b[1]=0,b[2]=0,b[3]=0,b[4]=1,b[5]=0,b[6]=a[0],b[7]=a[1],b[8]=1,b};g.fromRotation=function(b,a){var c=Math.sin(a),e=Math.cos(a);return b[0]=e,b[1]=c,b[2]=0,b[3]=-c,b[4]=e,b[5]=0,b[6]=0,b[7]=0,b[8]=1,b};g.fromScaling=
function(b,a){return b[0]=a[0],b[1]=0,b[2]=0,b[3]=0,b[4]=a[1],b[5]=0,b[6]=0,b[7]=0,b[8]=1,b};g.fromMat2d=function(b,a){return b[0]=a[0],b[1]=a[1],b[2]=0,b[3]=a[2],b[4]=a[3],b[5]=0,b[6]=a[4],b[7]=a[5],b[8]=1,b};g.fromQuat=function(b,a){var c=a[0],e=a[1],n=a[2],l=a[3],k=c+c,m=e+e,d=n+n,c=c*k,f=e*k,e=e*m,h=n*k,g=n*m,n=n*d,k=l*k,m=l*m,l=l*d;return b[0]=1-e-n,b[3]=f-l,b[6]=h+m,b[1]=f+l,b[4]=1-c-n,b[7]=g-k,b[2]=h-m,b[5]=g+k,b[8]=1-c-e,b};g.normalFromMat4=function(b,a){var c=a[0],e=a[1],n=a[2],l=a[3],k=
a[4],m=a[5],d=a[6],f=a[7],h=a[8],g=a[9],p=a[10],r=a[11],q=a[12],v=a[13],w=a[14],x=a[15],B=c*m-e*k,D=c*d-n*k,C=c*f-l*k,u=e*d-n*m,z=e*f-l*m,t=n*f-l*d,A=h*v-g*q,L=h*w-p*q,h=h*x-r*q,J=g*w-p*v,g=g*x-r*v,p=p*x-r*w;return(r=B*p-D*g+C*J+u*h-z*L+t*A)?(r=1/r,b[0]=(m*p-d*g+f*J)*r,b[1]=(d*h-k*p-f*L)*r,b[2]=(k*g-m*h+f*A)*r,b[3]=(n*g-e*p-l*J)*r,b[4]=(c*p-n*h+l*L)*r,b[5]=(e*h-c*g-l*A)*r,b[6]=(v*t-w*z+x*u)*r,b[7]=(w*C-q*t-x*D)*r,b[8]=(q*z-v*C+x*B)*r,b):null};g.str=function(b){return"mat3("+b[0]+", "+b[1]+", "+b[2]+
", "+b[3]+", "+b[4]+", "+b[5]+", "+b[6]+", "+b[7]+", "+b[8]+")"};g.frob=function(b){return Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)+Math.pow(b[2],2)+Math.pow(b[3],2)+Math.pow(b[4],2)+Math.pow(b[5],2)+Math.pow(b[6],2)+Math.pow(b[7],2)+Math.pow(b[8],2))};f.exports=g},function(f,g,d){var h=d(1),b={scalar:{},SIMD:{},create:function(){var a=new h.ARRAY_TYPE(16);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a},clone:function(a){var c=
new h.ARRAY_TYPE(16);return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c[4]=a[4],c[5]=a[5],c[6]=a[6],c[7]=a[7],c[8]=a[8],c[9]=a[9],c[10]=a[10],c[11]=a[11],c[12]=a[12],c[13]=a[13],c[14]=a[14],c[15]=a[15],c},copy:function(a,c){return a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a},identity:function(a){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,
a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a}};b.scalar.transpose=function(a,c){if(a===c){var e=c[1],b=c[2],l=c[3],k=c[6],m=c[7],d=c[11];a[1]=c[4];a[2]=c[8];a[3]=c[12];a[4]=e;a[6]=c[9];a[7]=c[13];a[8]=b;a[9]=k;a[11]=c[14];a[12]=l;a[13]=m;a[14]=d}else a[0]=c[0],a[1]=c[4],a[2]=c[8],a[3]=c[12],a[4]=c[1],a[5]=c[5],a[6]=c[9],a[7]=c[13],a[8]=c[2],a[9]=c[6],a[10]=c[10],a[11]=c[14],a[12]=c[3],a[13]=c[7],a[14]=c[11],a[15]=c[15];return a};b.SIMD.transpose=function(a,c){var e,b,l,k,m,d,f,h,g,p;return e=
SIMD.Float32x4.load(c,0),b=SIMD.Float32x4.load(c,4),l=SIMD.Float32x4.load(c,8),k=SIMD.Float32x4.load(c,12),m=SIMD.Float32x4.shuffle(e,b,0,1,4,5),d=SIMD.Float32x4.shuffle(l,k,0,1,4,5),f=SIMD.Float32x4.shuffle(m,d,0,2,4,6),h=SIMD.Float32x4.shuffle(m,d,1,3,5,7),SIMD.Float32x4.store(a,0,f),SIMD.Float32x4.store(a,4,h),m=SIMD.Float32x4.shuffle(e,b,2,3,6,7),d=SIMD.Float32x4.shuffle(l,k,2,3,6,7),g=SIMD.Float32x4.shuffle(m,d,0,2,4,6),p=SIMD.Float32x4.shuffle(m,d,1,3,5,7),SIMD.Float32x4.store(a,8,g),SIMD.Float32x4.store(a,
12,p),a};b.transpose=h.USE_SIMD?b.SIMD.transpose:b.scalar.transpose;b.scalar.invert=function(a,c){var e=c[0],b=c[1],l=c[2],k=c[3],m=c[4],d=c[5],f=c[6],h=c[7],g=c[8],p=c[9],r=c[10],q=c[11],v=c[12],w=c[13],x=c[14],B=c[15],D=e*d-b*m,C=e*f-l*m,u=e*h-k*m,z=b*f-l*d,t=b*h-k*d,A=l*h-k*f,L=g*w-p*v,J=g*x-r*v,N=g*B-q*v,O=p*x-r*w,G=p*B-q*w,M=r*B-q*x,F=D*M-C*G+u*O+z*N-t*J+A*L;return F?(F=1/F,a[0]=(d*M-f*G+h*O)*F,a[1]=(l*G-b*M-k*O)*F,a[2]=(w*A-x*t+B*z)*F,a[3]=(r*t-p*A-q*z)*F,a[4]=(f*N-m*M-h*J)*F,a[5]=(e*M-l*N+
k*J)*F,a[6]=(x*u-v*A-B*C)*F,a[7]=(g*A-r*u+q*C)*F,a[8]=(m*G-d*N+h*L)*F,a[9]=(b*N-e*G-k*L)*F,a[10]=(v*t-w*u+B*D)*F,a[11]=(p*u-g*t-q*D)*F,a[12]=(d*J-m*O-f*L)*F,a[13]=(e*O-b*J+l*L)*F,a[14]=(w*C-v*z-x*D)*F,a[15]=(g*z-p*C+r*D)*F,a):null};b.SIMD.invert=function(a,c){var e,b,l,k,m,d,f,h,g,p,r=SIMD.Float32x4.load(c,0),q=SIMD.Float32x4.load(c,4),v=SIMD.Float32x4.load(c,8),w=SIMD.Float32x4.load(c,12);return m=SIMD.Float32x4.shuffle(r,q,0,1,4,5),b=SIMD.Float32x4.shuffle(v,w,0,1,4,5),e=SIMD.Float32x4.shuffle(m,
b,0,2,4,6),b=SIMD.Float32x4.shuffle(b,m,1,3,5,7),m=SIMD.Float32x4.shuffle(r,q,2,3,6,7),k=SIMD.Float32x4.shuffle(v,w,2,3,6,7),l=SIMD.Float32x4.shuffle(m,k,0,2,4,6),k=SIMD.Float32x4.shuffle(k,m,1,3,5,7),m=SIMD.Float32x4.mul(l,k),m=SIMD.Float32x4.swizzle(m,1,0,3,2),d=SIMD.Float32x4.mul(b,m),f=SIMD.Float32x4.mul(e,m),m=SIMD.Float32x4.swizzle(m,2,3,0,1),d=SIMD.Float32x4.sub(SIMD.Float32x4.mul(b,m),d),f=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,m),f),f=SIMD.Float32x4.swizzle(f,2,3,0,1),m=SIMD.Float32x4.mul(b,
l),m=SIMD.Float32x4.swizzle(m,1,0,3,2),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(k,m),d),g=SIMD.Float32x4.mul(e,m),m=SIMD.Float32x4.swizzle(m,2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(k,m)),g=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,m),g),g=SIMD.Float32x4.swizzle(g,2,3,0,1),m=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(b,2,3,0,1),k),m=SIMD.Float32x4.swizzle(m,1,0,3,2),l=SIMD.Float32x4.swizzle(l,2,3,0,1),d=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,m),d),h=SIMD.Float32x4.mul(e,m),m=SIMD.Float32x4.swizzle(m,
2,3,0,1),d=SIMD.Float32x4.sub(d,SIMD.Float32x4.mul(l,m)),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(e,m),h),h=SIMD.Float32x4.swizzle(h,2,3,0,1),m=SIMD.Float32x4.mul(e,b),m=SIMD.Float32x4.swizzle(m,1,0,3,2),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(k,m),h),g=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,m),g),m=SIMD.Float32x4.swizzle(m,2,3,0,1),h=SIMD.Float32x4.sub(SIMD.Float32x4.mul(k,m),h),g=SIMD.Float32x4.sub(g,SIMD.Float32x4.mul(l,m)),m=SIMD.Float32x4.mul(e,k),m=SIMD.Float32x4.swizzle(m,1,0,3,2),f=SIMD.Float32x4.sub(f,
SIMD.Float32x4.mul(l,m)),h=SIMD.Float32x4.add(SIMD.Float32x4.mul(b,m),h),m=SIMD.Float32x4.swizzle(m,2,3,0,1),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(l,m),f),h=SIMD.Float32x4.sub(h,SIMD.Float32x4.mul(b,m)),m=SIMD.Float32x4.mul(e,l),m=SIMD.Float32x4.swizzle(m,1,0,3,2),f=SIMD.Float32x4.add(SIMD.Float32x4.mul(k,m),f),g=SIMD.Float32x4.sub(g,SIMD.Float32x4.mul(b,m)),m=SIMD.Float32x4.swizzle(m,2,3,0,1),f=SIMD.Float32x4.sub(f,SIMD.Float32x4.mul(k,m)),g=SIMD.Float32x4.add(SIMD.Float32x4.mul(b,m),g),p=SIMD.Float32x4.mul(e,
d),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,2,3,0,1),p),p=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(p,1,0,3,2),p),m=SIMD.Float32x4.reciprocalApproximation(p),p=SIMD.Float32x4.sub(SIMD.Float32x4.add(m,m),SIMD.Float32x4.mul(p,SIMD.Float32x4.mul(m,m))),(p=SIMD.Float32x4.swizzle(p,0,0,0,0))?(SIMD.Float32x4.store(a,0,SIMD.Float32x4.mul(p,d)),SIMD.Float32x4.store(a,4,SIMD.Float32x4.mul(p,f)),SIMD.Float32x4.store(a,8,SIMD.Float32x4.mul(p,h)),SIMD.Float32x4.store(a,12,SIMD.Float32x4.mul(p,g)),a):null};
b.invert=h.USE_SIMD?b.SIMD.invert:b.scalar.invert;b.scalar.adjoint=function(a,c){var e=c[0],b=c[1],l=c[2],k=c[3],m=c[4],d=c[5],f=c[6],h=c[7],g=c[8],p=c[9],r=c[10],q=c[11],v=c[12],w=c[13],x=c[14],B=c[15];return a[0]=d*(r*B-q*x)-p*(f*B-h*x)+w*(f*q-h*r),a[1]=-(b*(r*B-q*x)-p*(l*B-k*x)+w*(l*q-k*r)),a[2]=b*(f*B-h*x)-d*(l*B-k*x)+w*(l*h-k*f),a[3]=-(b*(f*q-h*r)-d*(l*q-k*r)+p*(l*h-k*f)),a[4]=-(m*(r*B-q*x)-g*(f*B-h*x)+v*(f*q-h*r)),a[5]=e*(r*B-q*x)-g*(l*B-k*x)+v*(l*q-k*r),a[6]=-(e*(f*B-h*x)-m*(l*B-k*x)+v*(l*
h-k*f)),a[7]=e*(f*q-h*r)-m*(l*q-k*r)+g*(l*h-k*f),a[8]=m*(p*B-q*w)-g*(d*B-h*w)+v*(d*q-h*p),a[9]=-(e*(p*B-q*w)-g*(b*B-k*w)+v*(b*q-k*p)),a[10]=e*(d*B-h*w)-m*(b*B-k*w)+v*(b*h-k*d),a[11]=-(e*(d*q-h*p)-m*(b*q-k*p)+g*(b*h-k*d)),a[12]=-(m*(p*x-r*w)-g*(d*x-f*w)+v*(d*r-f*p)),a[13]=e*(p*x-r*w)-g*(b*x-l*w)+v*(b*r-l*p),a[14]=-(e*(d*x-f*w)-m*(b*x-l*w)+v*(b*f-l*d)),a[15]=e*(d*r-f*p)-m*(b*r-l*p)+g*(b*f-l*d),a};b.SIMD.adjoint=function(a,c){var e,b,l,k,m,d,f,h,g,p,r,q,v;e=SIMD.Float32x4.load(c,0);b=SIMD.Float32x4.load(c,
4);l=SIMD.Float32x4.load(c,8);k=SIMD.Float32x4.load(c,12);return g=SIMD.Float32x4.shuffle(e,b,0,1,4,5),d=SIMD.Float32x4.shuffle(l,k,0,1,4,5),m=SIMD.Float32x4.shuffle(g,d,0,2,4,6),d=SIMD.Float32x4.shuffle(d,g,1,3,5,7),g=SIMD.Float32x4.shuffle(e,b,2,3,6,7),h=SIMD.Float32x4.shuffle(l,k,2,3,6,7),f=SIMD.Float32x4.shuffle(g,h,0,2,4,6),h=SIMD.Float32x4.shuffle(h,g,1,3,5,7),g=SIMD.Float32x4.mul(f,h),g=SIMD.Float32x4.swizzle(g,1,0,3,2),p=SIMD.Float32x4.mul(d,g),r=SIMD.Float32x4.mul(m,g),g=SIMD.Float32x4.swizzle(g,
2,3,0,1),p=SIMD.Float32x4.sub(SIMD.Float32x4.mul(d,g),p),r=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,g),r),r=SIMD.Float32x4.swizzle(r,2,3,0,1),g=SIMD.Float32x4.mul(d,f),g=SIMD.Float32x4.swizzle(g,1,0,3,2),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(h,g),p),v=SIMD.Float32x4.mul(m,g),g=SIMD.Float32x4.swizzle(g,2,3,0,1),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(h,g)),v=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,g),v),v=SIMD.Float32x4.swizzle(v,2,3,0,1),g=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(d,2,3,0,1),h),
g=SIMD.Float32x4.swizzle(g,1,0,3,2),f=SIMD.Float32x4.swizzle(f,2,3,0,1),p=SIMD.Float32x4.add(SIMD.Float32x4.mul(f,g),p),q=SIMD.Float32x4.mul(m,g),g=SIMD.Float32x4.swizzle(g,2,3,0,1),p=SIMD.Float32x4.sub(p,SIMD.Float32x4.mul(f,g)),q=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,g),q),q=SIMD.Float32x4.swizzle(q,2,3,0,1),g=SIMD.Float32x4.mul(m,d),g=SIMD.Float32x4.swizzle(g,1,0,3,2),q=SIMD.Float32x4.add(SIMD.Float32x4.mul(h,g),q),v=SIMD.Float32x4.sub(SIMD.Float32x4.mul(f,g),v),g=SIMD.Float32x4.swizzle(g,2,
3,0,1),q=SIMD.Float32x4.sub(SIMD.Float32x4.mul(h,g),q),v=SIMD.Float32x4.sub(v,SIMD.Float32x4.mul(f,g)),g=SIMD.Float32x4.mul(m,h),g=SIMD.Float32x4.swizzle(g,1,0,3,2),r=SIMD.Float32x4.sub(r,SIMD.Float32x4.mul(f,g)),q=SIMD.Float32x4.add(SIMD.Float32x4.mul(d,g),q),g=SIMD.Float32x4.swizzle(g,2,3,0,1),r=SIMD.Float32x4.add(SIMD.Float32x4.mul(f,g),r),q=SIMD.Float32x4.sub(q,SIMD.Float32x4.mul(d,g)),g=SIMD.Float32x4.mul(m,f),g=SIMD.Float32x4.swizzle(g,1,0,3,2),r=SIMD.Float32x4.add(SIMD.Float32x4.mul(h,g),r),
v=SIMD.Float32x4.sub(v,SIMD.Float32x4.mul(d,g)),g=SIMD.Float32x4.swizzle(g,2,3,0,1),r=SIMD.Float32x4.sub(r,SIMD.Float32x4.mul(h,g)),v=SIMD.Float32x4.add(SIMD.Float32x4.mul(d,g),v),SIMD.Float32x4.store(a,0,p),SIMD.Float32x4.store(a,4,r),SIMD.Float32x4.store(a,8,q),SIMD.Float32x4.store(a,12,v),a};b.adjoint=h.USE_SIMD?b.SIMD.adjoint:b.scalar.adjoint;b.determinant=function(a){var c=a[0],e=a[1],b=a[2],l=a[3],k=a[4],m=a[5],d=a[6],f=a[7],g=a[8],h=a[9],p=a[10],r=a[11],q=a[12],v=a[13],w=a[14];a=a[15];return(c*
m-e*k)*(p*a-r*w)-(c*d-b*k)*(h*a-r*v)+(c*f-l*k)*(h*w-p*v)+(e*d-b*m)*(g*a-r*q)-(e*f-l*m)*(g*w-p*q)+(b*f-l*d)*(g*v-h*q)};b.SIMD.multiply=function(a,c,e){var b=SIMD.Float32x4.load(c,0),l=SIMD.Float32x4.load(c,4),k=SIMD.Float32x4.load(c,8);c=SIMD.Float32x4.load(c,12);var m=SIMD.Float32x4.load(e,0),m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,0,0,0,0),b),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,
2,2,2,2),k),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,3,3,3,3),c))));SIMD.Float32x4.store(a,0,m);m=SIMD.Float32x4.load(e,4);m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,0,0,0,0),b),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,2,2,2,2),k),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,3,3,3,3),c))));SIMD.Float32x4.store(a,4,m);m=SIMD.Float32x4.load(e,8);m=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,
0,0,0,0),b),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,2,2,2,2),k),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,3,3,3,3),c))));SIMD.Float32x4.store(a,8,m);e=SIMD.Float32x4.load(e,12);b=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,0,0,0,0),b),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,1,1,1,1),l),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,2,2,2,2),
k),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(e,3,3,3,3),c))));return SIMD.Float32x4.store(a,12,b),a};b.scalar.multiply=function(a,c,e){var b=c[0],l=c[1],k=c[2],m=c[3],d=c[4],f=c[5],g=c[6],h=c[7],p=c[8],r=c[9],q=c[10],v=c[11],w=c[12],x=c[13],B=c[14];c=c[15];var D=e[0],C=e[1],u=e[2],z=e[3];return a[0]=D*b+C*d+u*p+z*w,a[1]=D*l+C*f+u*r+z*x,a[2]=D*k+C*g+u*q+z*B,a[3]=D*m+C*h+u*v+z*c,D=e[4],C=e[5],u=e[6],z=e[7],a[4]=D*b+C*d+u*p+z*w,a[5]=D*l+C*f+u*r+z*x,a[6]=D*k+C*g+u*q+z*B,a[7]=D*m+C*h+u*v+z*c,D=e[8],C=
e[9],u=e[10],z=e[11],a[8]=D*b+C*d+u*p+z*w,a[9]=D*l+C*f+u*r+z*x,a[10]=D*k+C*g+u*q+z*B,a[11]=D*m+C*h+u*v+z*c,D=e[12],C=e[13],u=e[14],z=e[15],a[12]=D*b+C*d+u*p+z*w,a[13]=D*l+C*f+u*r+z*x,a[14]=D*k+C*g+u*q+z*B,a[15]=D*m+C*h+u*v+z*c,a};b.multiply=h.USE_SIMD?b.SIMD.multiply:b.scalar.multiply;b.mul=b.multiply;b.scalar.translate=function(a,c,e){var b,l,k,m,d,f,g,h,p,r,q,v,w=e[0],x=e[1];e=e[2];return c===a?(a[12]=c[0]*w+c[4]*x+c[8]*e+c[12],a[13]=c[1]*w+c[5]*x+c[9]*e+c[13],a[14]=c[2]*w+c[6]*x+c[10]*e+c[14],
a[15]=c[3]*w+c[7]*x+c[11]*e+c[15]):(b=c[0],l=c[1],k=c[2],m=c[3],d=c[4],f=c[5],g=c[6],h=c[7],p=c[8],r=c[9],q=c[10],v=c[11],a[0]=b,a[1]=l,a[2]=k,a[3]=m,a[4]=d,a[5]=f,a[6]=g,a[7]=h,a[8]=p,a[9]=r,a[10]=q,a[11]=v,a[12]=b*w+d*x+p*e+c[12],a[13]=l*w+f*x+r*e+c[13],a[14]=k*w+g*x+q*e+c[14],a[15]=m*w+h*x+v*e+c[15]),a};b.SIMD.translate=function(a,c,e){var b=SIMD.Float32x4.load(c,0),l=SIMD.Float32x4.load(c,4),k=SIMD.Float32x4.load(c,8),m=SIMD.Float32x4.load(c,12);e=SIMD.Float32x4(e[0],e[1],e[2],0);c!==a&&(a[0]=
c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11]);b=SIMD.Float32x4.mul(b,SIMD.Float32x4.swizzle(e,0,0,0,0));l=SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(e,1,1,1,1));k=SIMD.Float32x4.mul(k,SIMD.Float32x4.swizzle(e,2,2,2,2));c=SIMD.Float32x4.add(b,SIMD.Float32x4.add(l,SIMD.Float32x4.add(k,m)));return SIMD.Float32x4.store(a,12,c),a};b.translate=h.USE_SIMD?b.SIMD.translate:b.scalar.translate;b.scalar.scale=function(a,c,e){var b=e[0],
l=e[1];e=e[2];return a[0]=c[0]*b,a[1]=c[1]*b,a[2]=c[2]*b,a[3]=c[3]*b,a[4]=c[4]*l,a[5]=c[5]*l,a[6]=c[6]*l,a[7]=c[7]*l,a[8]=c[8]*e,a[9]=c[9]*e,a[10]=c[10]*e,a[11]=c[11]*e,a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a};b.SIMD.scale=function(a,c,e){var b,l,k;e=SIMD.Float32x4(e[0],e[1],e[2],0);return b=SIMD.Float32x4.load(c,0),SIMD.Float32x4.store(a,0,SIMD.Float32x4.mul(b,SIMD.Float32x4.swizzle(e,0,0,0,0))),l=SIMD.Float32x4.load(c,4),SIMD.Float32x4.store(a,4,SIMD.Float32x4.mul(l,SIMD.Float32x4.swizzle(e,
1,1,1,1))),k=SIMD.Float32x4.load(c,8),SIMD.Float32x4.store(a,8,SIMD.Float32x4.mul(k,SIMD.Float32x4.swizzle(e,2,2,2,2))),a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15],a};b.scale=h.USE_SIMD?b.SIMD.scale:b.scalar.scale;b.rotate=function(a,c,e,b){var n,k,m,d,f,g,E,p,r,q,v,w,x,B,D,C,u,z,t,A,L,J,N,O,G=b[0],M=b[1];b=b[2];var F=Math.sqrt(G*G+M*M+b*b);return Math.abs(F)<h.EPSILON?null:(F=1/F,G*=F,M*=F,b*=F,n=Math.sin(e),k=Math.cos(e),m=1-k,d=c[0],f=c[1],g=c[2],E=c[3],p=c[4],r=c[5],q=c[6],v=c[7],w=c[8],x=
c[9],B=c[10],D=c[11],C=G*G*m+k,u=M*G*m+b*n,z=b*G*m-M*n,t=G*M*m-b*n,A=M*M*m+k,L=b*M*m+G*n,J=G*b*m+M*n,N=M*b*m-G*n,O=b*b*m+k,a[0]=d*C+p*u+w*z,a[1]=f*C+r*u+x*z,a[2]=g*C+q*u+B*z,a[3]=E*C+v*u+D*z,a[4]=d*t+p*A+w*L,a[5]=f*t+r*A+x*L,a[6]=g*t+q*A+B*L,a[7]=E*t+v*A+D*L,a[8]=d*J+p*N+w*O,a[9]=f*J+r*N+x*O,a[10]=g*J+q*N+B*O,a[11]=E*J+v*N+D*O,c!==a&&(a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a)};b.scalar.rotateX=function(a,c,e){var b=Math.sin(e);e=Math.cos(e);var l=c[4],k=c[5],m=c[6],d=c[7],f=c[8],g=c[9],
h=c[10],p=c[11];return c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a[4]=l*e+f*b,a[5]=k*e+g*b,a[6]=m*e+h*b,a[7]=d*e+p*b,a[8]=f*e-l*b,a[9]=g*e-k*b,a[10]=h*e-m*b,a[11]=p*e-d*b,a};b.SIMD.rotateX=function(a,c,e){var b=SIMD.Float32x4.splat(Math.sin(e));e=SIMD.Float32x4.splat(Math.cos(e));c!==a&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);var l=SIMD.Float32x4.load(c,4);c=SIMD.Float32x4.load(c,8);return SIMD.Float32x4.store(a,
4,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,e),SIMD.Float32x4.mul(c,b))),SIMD.Float32x4.store(a,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,e),SIMD.Float32x4.mul(l,b))),a};b.rotateX=h.USE_SIMD?b.SIMD.rotateX:b.scalar.rotateX;b.scalar.rotateY=function(a,c,e){var b=Math.sin(e);e=Math.cos(e);var l=c[0],k=c[1],m=c[2],d=c[3],f=c[8],g=c[9],h=c[10],p=c[11];return c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a[0]=l*e-f*b,a[1]=k*e-g*b,a[2]=m*e-h*b,a[3]=d*e-p*
b,a[8]=l*b+f*e,a[9]=k*b+g*e,a[10]=m*b+h*e,a[11]=d*b+p*e,a};b.SIMD.rotateY=function(a,c,e){var b=SIMD.Float32x4.splat(Math.sin(e));e=SIMD.Float32x4.splat(Math.cos(e));c!==a&&(a[4]=c[4],a[5]=c[5],a[6]=c[6],a[7]=c[7],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);var l=SIMD.Float32x4.load(c,0);c=SIMD.Float32x4.load(c,8);return SIMD.Float32x4.store(a,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,e),SIMD.Float32x4.mul(c,b))),SIMD.Float32x4.store(a,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,b),SIMD.Float32x4.mul(c,
e))),a};b.rotateY=h.USE_SIMD?b.SIMD.rotateY:b.scalar.rotateY;b.scalar.rotateZ=function(a,c,e){var b=Math.sin(e);e=Math.cos(e);var l=c[0],k=c[1],m=c[2],d=c[3],f=c[4],g=c[5],h=c[6],p=c[7];return c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]),a[0]=l*e+f*b,a[1]=k*e+g*b,a[2]=m*e+h*b,a[3]=d*e+p*b,a[4]=f*e-l*b,a[5]=g*e-k*b,a[6]=h*e-m*b,a[7]=p*e-d*b,a};b.SIMD.rotateZ=function(a,c,e){var b=SIMD.Float32x4.splat(Math.sin(e));e=SIMD.Float32x4.splat(Math.cos(e));
c!==a&&(a[8]=c[8],a[9]=c[9],a[10]=c[10],a[11]=c[11],a[12]=c[12],a[13]=c[13],a[14]=c[14],a[15]=c[15]);var l=SIMD.Float32x4.load(c,0);c=SIMD.Float32x4.load(c,4);return SIMD.Float32x4.store(a,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(l,e),SIMD.Float32x4.mul(c,b))),SIMD.Float32x4.store(a,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(c,e),SIMD.Float32x4.mul(l,b))),a};b.rotateZ=h.USE_SIMD?b.SIMD.rotateZ:b.scalar.rotateZ;b.fromTranslation=function(a,c){return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=
0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=c[0],a[13]=c[1],a[14]=c[2],a[15]=1,a};b.fromScaling=function(a,c){return a[0]=c[0],a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c[1],a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=c[2],a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a};b.fromRotation=function(a,c,e){var b,l,k,m=e[0],d=e[1];e=e[2];var f=Math.sqrt(m*m+d*d+e*e);return Math.abs(f)<h.EPSILON?null:(f=1/f,m*=f,d*=f,e*=f,b=Math.sin(c),l=Math.cos(c),k=1-l,a[0]=m*m*k+l,a[1]=d*m*k+e*b,a[2]=e*m*k-d*b,a[3]=0,a[4]=m*d*k-e*b,a[5]=d*d*k+l,a[6]=
e*d*k+m*b,a[7]=0,a[8]=m*e*k+d*b,a[9]=d*e*k-m*b,a[10]=e*e*k+l,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a)};b.fromXRotation=function(a,c){var e=Math.sin(c),b=Math.cos(c);return a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=b,a[6]=e,a[7]=0,a[8]=0,a[9]=-e,a[10]=b,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a};b.fromYRotation=function(a,c){var e=Math.sin(c),b=Math.cos(c);return a[0]=b,a[1]=0,a[2]=-e,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=e,a[9]=0,a[10]=b,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a};b.fromZRotation=
function(a,c){var e=Math.sin(c),b=Math.cos(c);return a[0]=b,a[1]=e,a[2]=0,a[3]=0,a[4]=-e,a[5]=b,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a};b.fromRotationTranslation=function(a,c,e){var b=c[0],l=c[1],k=c[2],m=c[3],d=b+b,f=l+l,g=k+k;c=b*d;var h=b*f,b=b*g,p=l*f,l=l*g,k=k*g,d=m*d,f=m*f,m=m*g;return a[0]=1-(p+k),a[1]=h+m,a[2]=b-f,a[3]=0,a[4]=h-m,a[5]=1-(c+k),a[6]=l+d,a[7]=0,a[8]=b+f,a[9]=l-d,a[10]=1-(c+p),a[11]=0,a[12]=e[0],a[13]=e[1],a[14]=e[2],a[15]=1,a};b.fromRotationTranslationScale=
function(a,c,e,b){var n=c[0],k=c[1],m=c[2],d=c[3],f=n+n,g=k+k,h=m+m;c=n*f;var p=n*g,n=n*h,r=k*g,k=k*h,m=m*h,f=d*f,g=d*g,d=d*h,h=b[0],q=b[1];b=b[2];return a[0]=(1-(r+m))*h,a[1]=(p+d)*h,a[2]=(n-g)*h,a[3]=0,a[4]=(p-d)*q,a[5]=(1-(c+m))*q,a[6]=(k+f)*q,a[7]=0,a[8]=(n+g)*b,a[9]=(k-f)*b,a[10]=(1-(c+r))*b,a[11]=0,a[12]=e[0],a[13]=e[1],a[14]=e[2],a[15]=1,a};b.fromRotationTranslationScaleOrigin=function(a,c,e,b,l){var n=c[0],m=c[1],d=c[2],f=c[3],g=n+n,h=m+m,p=d+d;c=n*g;var r=n*h,n=n*p,q=m*h,m=m*p,d=d*p,g=f*
g,h=f*h,f=f*p,p=b[0],v=b[1];b=b[2];var w=l[0],x=l[1];l=l[2];return a[0]=(1-(q+d))*p,a[1]=(r+f)*p,a[2]=(n-h)*p,a[3]=0,a[4]=(r-f)*v,a[5]=(1-(c+d))*v,a[6]=(m+g)*v,a[7]=0,a[8]=(n+h)*b,a[9]=(m-g)*b,a[10]=(1-(c+q))*b,a[11]=0,a[12]=e[0]+w-(a[0]*w+a[4]*x+a[8]*l),a[13]=e[1]+x-(a[1]*w+a[5]*x+a[9]*l),a[14]=e[2]+l-(a[2]*w+a[6]*x+a[10]*l),a[15]=1,a};b.fromQuat=function(a,c){var e=c[0],b=c[1],l=c[2],k=c[3],m=e+e,d=b+b,f=l+l,e=e*m,g=b*m,b=b*d,h=l*m,p=l*d,l=l*f,m=k*m,d=k*d,k=k*f;return a[0]=1-b-l,a[1]=g+k,a[2]=h-
d,a[3]=0,a[4]=g-k,a[5]=1-e-l,a[6]=p+m,a[7]=0,a[8]=h+d,a[9]=p-m,a[10]=1-e-b,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1,a};b.frustum=function(a,c,e,b,l,k,m){var n=1/(e-c),d=1/(l-b),f=1/(k-m);return a[0]=2*k*n,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=2*k*d,a[6]=0,a[7]=0,a[8]=(e+c)*n,a[9]=(l+b)*d,a[10]=(m+k)*f,a[11]=-1,a[12]=0,a[13]=0,a[14]=m*k*2*f,a[15]=0,a};b.perspective=function(a,c,e,b,l){c=1/Math.tan(c/2);var n=1/(b-l);return a[0]=c/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=c,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=(l+
b)*n,a[11]=-1,a[12]=0,a[13]=0,a[14]=2*l*b*n,a[15]=0,a};b.perspectiveFromFieldOfView=function(a,c,e,b){var n=Math.tan(c.upDegrees*Math.PI/180),k=Math.tan(c.downDegrees*Math.PI/180),m=Math.tan(c.leftDegrees*Math.PI/180);c=Math.tan(c.rightDegrees*Math.PI/180);var d=2/(m+c),f=2/(n+k);return a[0]=d,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=f,a[6]=0,a[7]=0,a[8]=-((m-c)*d*.5),a[9]=(n-k)*f*.5,a[10]=b/(e-b),a[11]=-1,a[12]=0,a[13]=0,a[14]=b*e/(e-b),a[15]=0,a};b.ortho=function(a,c,e,b,l,k,d){var n=1/(c-e),m=1/(b-l),
f=1/(k-d);return a[0]=-2*n,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*m,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*f,a[11]=0,a[12]=(c+e)*n,a[13]=(l+b)*m,a[14]=(d+k)*f,a[15]=1,a};b.lookAt=function(a,c,e,n){var l,k,d,f,g,K,E,p,r,q,v=c[0],w=c[1];c=c[2];var x=n[0],B=n[1];n=n[2];var D=e[0],C=e[1];e=e[2];return Math.abs(v-D)<h.EPSILON&&Math.abs(w-C)<h.EPSILON&&Math.abs(c-e)<h.EPSILON?b.identity(a):(E=v-D,p=w-C,r=c-e,q=1/Math.sqrt(E*E+p*p+r*r),E*=q,p*=q,r*=q,l=B*r-n*p,k=n*E-x*r,d=x*p-B*E,q=Math.sqrt(l*l+k*k+d*d),q?(q=
1/q,l*=q,k*=q,d*=q):(l=0,k=0,d=0),f=p*d-r*k,g=r*l-E*d,K=E*k-p*l,q=Math.sqrt(f*f+g*g+K*K),q?(q=1/q,f*=q,g*=q,K*=q):(f=0,g=0,K=0),a[0]=l,a[1]=f,a[2]=E,a[3]=0,a[4]=k,a[5]=g,a[6]=p,a[7]=0,a[8]=d,a[9]=K,a[10]=r,a[11]=0,a[12]=-(l*v+k*w+d*c),a[13]=-(f*v+g*w+K*c),a[14]=-(E*v+p*w+r*c),a[15]=1,a)};b.str=function(a){return"mat4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+", "+a[4]+", "+a[5]+", "+a[6]+", "+a[7]+", "+a[8]+", "+a[9]+", "+a[10]+", "+a[11]+", "+a[12]+", "+a[13]+", "+a[14]+", "+a[15]+")"};b.frob=function(a){return Math.sqrt(Math.pow(a[0],
2)+Math.pow(a[1],2)+Math.pow(a[2],2)+Math.pow(a[3],2)+Math.pow(a[4],2)+Math.pow(a[5],2)+Math.pow(a[6],2)+Math.pow(a[7],2)+Math.pow(a[8],2)+Math.pow(a[9],2)+Math.pow(a[10],2)+Math.pow(a[11],2)+Math.pow(a[12],2)+Math.pow(a[13],2)+Math.pow(a[14],2)+Math.pow(a[15],2))};f.exports=b},function(f,g,d){var h=d(1),b=d(4),a=d(7);g=d(8);var c={create:function(){var a=new h.ARRAY_TYPE(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a}};c.rotationTo=function(){var e=a.create(),b=a.fromValues(1,0,0),l=a.fromValues(0,1,0);
return function(n,d,f){var k=a.dot(d,f);return-.999999>k?(a.cross(e,b,d),1E-6>a.length(e)&&a.cross(e,l,d),a.normalize(e,e),c.setAxisAngle(n,e,Math.PI),n):.999999<k?(n[0]=0,n[1]=0,n[2]=0,n[3]=1,n):(a.cross(e,d,f),n[0]=e[0],n[1]=e[1],n[2]=e[2],n[3]=1+k,c.normalize(n,n))}}();c.setAxes=function(){var a=b.create();return function(e,b,k,d){return a[0]=k[0],a[3]=k[1],a[6]=k[2],a[1]=d[0],a[4]=d[1],a[7]=d[2],a[2]=-b[0],a[5]=-b[1],a[8]=-b[2],c.normalize(e,c.fromMat3(e,a))}}();c.clone=g.clone;c.fromValues=g.fromValues;
c.copy=g.copy;c.set=g.set;c.identity=function(a){return a[0]=0,a[1]=0,a[2]=0,a[3]=1,a};c.setAxisAngle=function(a,c,b){b*=.5;var e=Math.sin(b);return a[0]=e*c[0],a[1]=e*c[1],a[2]=e*c[2],a[3]=Math.cos(b),a};c.add=g.add;c.multiply=function(a,c,b){var e=c[0],n=c[1],l=c[2];c=c[3];var d=b[0],f=b[1],g=b[2];b=b[3];return a[0]=e*b+c*d+n*g-l*f,a[1]=n*b+c*f+l*d-e*g,a[2]=l*b+c*g+e*f-n*d,a[3]=c*b-e*d-n*f-l*g,a};c.mul=c.multiply;c.scale=g.scale;c.rotateX=function(a,c,b){b*=.5;var e=c[0],n=c[1],l=c[2];c=c[3];var d=
Math.sin(b);b=Math.cos(b);return a[0]=e*b+c*d,a[1]=n*b+l*d,a[2]=l*b-n*d,a[3]=c*b-e*d,a};c.rotateY=function(a,c,b){b*=.5;var e=c[0],n=c[1],l=c[2];c=c[3];var d=Math.sin(b);b=Math.cos(b);return a[0]=e*b-l*d,a[1]=n*b+c*d,a[2]=l*b+e*d,a[3]=c*b-n*d,a};c.rotateZ=function(a,c,b){b*=.5;var e=c[0],n=c[1],l=c[2];c=c[3];var d=Math.sin(b);b=Math.cos(b);return a[0]=e*b+n*d,a[1]=n*b-e*d,a[2]=l*b+c*d,a[3]=c*b-l*d,a};c.calculateW=function(a,c){var b=c[0],e=c[1],n=c[2];return a[0]=b,a[1]=e,a[2]=n,a[3]=Math.sqrt(Math.abs(1-
b*b-e*e-n*n)),a};c.dot=g.dot;c.lerp=g.lerp;c.slerp=function(a,c,b,d){var e,n,l,k,f,g=c[0],h=c[1],q=c[2];c=c[3];var v=b[0],w=b[1],x=b[2];b=b[3];return n=g*v+h*w+q*x+c*b,0>n&&(n=-n,v=-v,w=-w,x=-x,b=-b),1E-6<1-n?(e=Math.acos(n),l=Math.sin(e),k=Math.sin((1-d)*e)/l,f=Math.sin(d*e)/l):(k=1-d,f=d),a[0]=k*g+f*v,a[1]=k*h+f*w,a[2]=k*q+f*x,a[3]=k*c+f*b,a};c.sqlerp=function(){var a=c.create(),b=c.create();return function(e,n,d,f,g,h){return c.slerp(a,n,g,h),c.slerp(b,d,f,h),c.slerp(e,a,b,2*h*(1-h)),e}}();c.invert=
function(a,c){var b=c[0],e=c[1],n=c[2],d=c[3],f=b*b+e*e+n*n+d*d,f=f?1/f:0;return a[0]=-b*f,a[1]=-e*f,a[2]=-n*f,a[3]=d*f,a};c.conjugate=function(a,c){return a[0]=-c[0],a[1]=-c[1],a[2]=-c[2],a[3]=c[3],a};c.length=g.length;c.len=c.length;c.squaredLength=g.squaredLength;c.sqrLen=c.squaredLength;c.normalize=g.normalize;c.fromMat3=function(a,c){var b;b=c[0]+c[4]+c[8];if(0<b)b=Math.sqrt(b+1),a[3]=.5*b,b=.5/b,a[0]=(c[5]-c[7])*b,a[1]=(c[6]-c[2])*b,a[2]=(c[1]-c[3])*b;else{var e=0;c[4]>c[0]&&(e=1);c[8]>c[3*
e+e]&&(e=2);var n=(e+1)%3,d=(e+2)%3;b=Math.sqrt(c[3*e+e]-c[3*n+n]-c[3*d+d]+1);a[e]=.5*b;b=.5/b;a[3]=(c[3*n+d]-c[3*d+n])*b;a[n]=(c[3*n+e]+c[3*e+n])*b;a[d]=(c[3*d+e]+c[3*e+d])*b}return a};c.str=function(a){return"quat("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};f.exports=c},function(f,g,d){var h=d(1),b={create:function(){var a=new h.ARRAY_TYPE(3);return a[0]=0,a[1]=0,a[2]=0,a},clone:function(a){var c=new h.ARRAY_TYPE(3);return c[0]=a[0],c[1]=a[1],c[2]=a[2],c},fromValues:function(a,c,b){var e=new h.ARRAY_TYPE(3);
return e[0]=a,e[1]=c,e[2]=b,e},copy:function(a,c){return a[0]=c[0],a[1]=c[1],a[2]=c[2],a},set:function(a,c,b,n){return a[0]=c,a[1]=b,a[2]=n,a},add:function(a,c,b){return a[0]=c[0]+b[0],a[1]=c[1]+b[1],a[2]=c[2]+b[2],a},subtract:function(a,c,b){return a[0]=c[0]-b[0],a[1]=c[1]-b[1],a[2]=c[2]-b[2],a}};b.sub=b.subtract;b.multiply=function(a,c,b){return a[0]=c[0]*b[0],a[1]=c[1]*b[1],a[2]=c[2]*b[2],a};b.mul=b.multiply;b.divide=function(a,c,b){return a[0]=c[0]/b[0],a[1]=c[1]/b[1],a[2]=c[2]/b[2],a};b.div=
b.divide;b.min=function(a,c,b){return a[0]=Math.min(c[0],b[0]),a[1]=Math.min(c[1],b[1]),a[2]=Math.min(c[2],b[2]),a};b.max=function(a,c,b){return a[0]=Math.max(c[0],b[0]),a[1]=Math.max(c[1],b[1]),a[2]=Math.max(c[2],b[2]),a};b.scale=function(a,c,b){return a[0]=c[0]*b,a[1]=c[1]*b,a[2]=c[2]*b,a};b.scaleAndAdd=function(a,c,b,n){return a[0]=c[0]+b[0]*n,a[1]=c[1]+b[1]*n,a[2]=c[2]+b[2]*n,a};b.distance=function(a,c){var b=c[0]-a[0],n=c[1]-a[1],d=c[2]-a[2];return Math.sqrt(b*b+n*n+d*d)};b.dist=b.distance;b.squaredDistance=
function(a,c){var b=c[0]-a[0],n=c[1]-a[1],d=c[2]-a[2];return b*b+n*n+d*d};b.sqrDist=b.squaredDistance;b.length=function(a){var c=a[0],b=a[1];a=a[2];return Math.sqrt(c*c+b*b+a*a)};b.len=b.length;b.squaredLength=function(a){var c=a[0],b=a[1];a=a[2];return c*c+b*b+a*a};b.sqrLen=b.squaredLength;b.negate=function(a,c){return a[0]=-c[0],a[1]=-c[1],a[2]=-c[2],a};b.inverse=function(a,c){return a[0]=1/c[0],a[1]=1/c[1],a[2]=1/c[2],a};b.normalize=function(a,c){var b=c[0],n=c[1],d=c[2],b=b*b+n*n+d*d;return 0<
b&&(b=1/Math.sqrt(b),a[0]=c[0]*b,a[1]=c[1]*b,a[2]=c[2]*b),a};b.dot=function(a,c){return a[0]*c[0]+a[1]*c[1]+a[2]*c[2]};b.cross=function(a,c,b){var e=c[0],d=c[1];c=c[2];var f=b[0],g=b[1];b=b[2];return a[0]=d*b-c*g,a[1]=c*f-e*b,a[2]=e*g-d*f,a};b.lerp=function(a,c,b,d){var e=c[0],n=c[1];c=c[2];return a[0]=e+d*(b[0]-e),a[1]=n+d*(b[1]-n),a[2]=c+d*(b[2]-c),a};b.hermite=function(a,c,b,d,f,k){var e=k*k,n=e*(2*k-3)+1,l=e*(k-2)+k,g=e*(k-1);k=e*(3-2*k);return a[0]=c[0]*n+b[0]*l+d[0]*g+f[0]*k,a[1]=c[1]*n+b[1]*
l+d[1]*g+f[1]*k,a[2]=c[2]*n+b[2]*l+d[2]*g+f[2]*k,a};b.bezier=function(a,c,b,d,f,k){var e=1-k,n=e*e,l=k*k,g=n*e,n=3*k*n,e=3*l*e;k*=l;return a[0]=c[0]*g+b[0]*n+d[0]*e+f[0]*k,a[1]=c[1]*g+b[1]*n+d[1]*e+f[1]*k,a[2]=c[2]*g+b[2]*n+d[2]*e+f[2]*k,a};b.random=function(a,c){c=c||1;var b=2*h.RANDOM()*Math.PI,d=2*h.RANDOM()-1,f=Math.sqrt(1-d*d)*c;return a[0]=Math.cos(b)*f,a[1]=Math.sin(b)*f,a[2]=d*c,a};b.transformMat4=function(a,c,b){var e=c[0],d=c[1];c=c[2];var f=b[3]*e+b[7]*d+b[11]*c+b[15];return f=f||1,a[0]=
(b[0]*e+b[4]*d+b[8]*c+b[12])/f,a[1]=(b[1]*e+b[5]*d+b[9]*c+b[13])/f,a[2]=(b[2]*e+b[6]*d+b[10]*c+b[14])/f,a};b.transformMat3=function(a,c,b){var e=c[0],d=c[1];c=c[2];return a[0]=e*b[0]+d*b[3]+c*b[6],a[1]=e*b[1]+d*b[4]+c*b[7],a[2]=e*b[2]+d*b[5]+c*b[8],a};b.transformQuat=function(a,c,b){var e=c[0],d=c[1],f=c[2];c=b[0];var g=b[1],h=b[2];b=b[3];var I=b*e+g*f-h*d,K=b*d+h*e-c*f,E=b*f+c*d-g*e,e=-c*e-g*d-h*f;return a[0]=I*b+e*-c+K*-h-E*-g,a[1]=K*b+e*-g+E*-c-I*-h,a[2]=E*b+e*-h+I*-g-K*-c,a};b.rotateX=function(a,
c,b,d){var e=[],f=[];return e[0]=c[0]-b[0],e[1]=c[1]-b[1],e[2]=c[2]-b[2],f[0]=e[0],f[1]=e[1]*Math.cos(d)-e[2]*Math.sin(d),f[2]=e[1]*Math.sin(d)+e[2]*Math.cos(d),a[0]=f[0]+b[0],a[1]=f[1]+b[1],a[2]=f[2]+b[2],a};b.rotateY=function(a,c,b,d){var e=[],f=[];return e[0]=c[0]-b[0],e[1]=c[1]-b[1],e[2]=c[2]-b[2],f[0]=e[2]*Math.sin(d)+e[0]*Math.cos(d),f[1]=e[1],f[2]=e[2]*Math.cos(d)-e[0]*Math.sin(d),a[0]=f[0]+b[0],a[1]=f[1]+b[1],a[2]=f[2]+b[2],a};b.rotateZ=function(a,c,b,d){var e=[],f=[];return e[0]=c[0]-b[0],
e[1]=c[1]-b[1],e[2]=c[2]-b[2],f[0]=e[0]*Math.cos(d)-e[1]*Math.sin(d),f[1]=e[0]*Math.sin(d)+e[1]*Math.cos(d),f[2]=e[2],a[0]=f[0]+b[0],a[1]=f[1]+b[1],a[2]=f[2]+b[2],a};b.forEach=function(){var a=b.create();return function(c,b,d,f,g,h){b||(b=3);d||(d=0);for(f=f?Math.min(f*b+d,c.length):c.length;f>d;d+=b)a[0]=c[d],a[1]=c[d+1],a[2]=c[d+2],g(a,a,h),c[d]=a[0],c[d+1]=a[1],c[d+2]=a[2];return c}}();b.angle=function(a,c){var e=b.fromValues(a[0],a[1],a[2]),d=b.fromValues(c[0],c[1],c[2]);b.normalize(e,e);b.normalize(d,
d);e=b.dot(e,d);return 1<e?0:Math.acos(e)};b.str=function(a){return"vec3("+a[0]+", "+a[1]+", "+a[2]+")"};f.exports=b},function(f,g,d){var h=d(1),b={create:function(){var a=new h.ARRAY_TYPE(4);return a[0]=0,a[1]=0,a[2]=0,a[3]=0,a},clone:function(a){var c=new h.ARRAY_TYPE(4);return c[0]=a[0],c[1]=a[1],c[2]=a[2],c[3]=a[3],c},fromValues:function(a,c,b,d){var e=new h.ARRAY_TYPE(4);return e[0]=a,e[1]=c,e[2]=b,e[3]=d,e},copy:function(a,c){return a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a},set:function(a,
c,b,d,f){return a[0]=c,a[1]=b,a[2]=d,a[3]=f,a},add:function(a,c,b){return a[0]=c[0]+b[0],a[1]=c[1]+b[1],a[2]=c[2]+b[2],a[3]=c[3]+b[3],a},subtract:function(a,c,b){return a[0]=c[0]-b[0],a[1]=c[1]-b[1],a[2]=c[2]-b[2],a[3]=c[3]-b[3],a}};b.sub=b.subtract;b.multiply=function(a,c,b){return a[0]=c[0]*b[0],a[1]=c[1]*b[1],a[2]=c[2]*b[2],a[3]=c[3]*b[3],a};b.mul=b.multiply;b.divide=function(a,c,b){return a[0]=c[0]/b[0],a[1]=c[1]/b[1],a[2]=c[2]/b[2],a[3]=c[3]/b[3],a};b.div=b.divide;b.min=function(a,c,b){return a[0]=
Math.min(c[0],b[0]),a[1]=Math.min(c[1],b[1]),a[2]=Math.min(c[2],b[2]),a[3]=Math.min(c[3],b[3]),a};b.max=function(a,b,e){return a[0]=Math.max(b[0],e[0]),a[1]=Math.max(b[1],e[1]),a[2]=Math.max(b[2],e[2]),a[3]=Math.max(b[3],e[3]),a};b.scale=function(a,b,e){return a[0]=b[0]*e,a[1]=b[1]*e,a[2]=b[2]*e,a[3]=b[3]*e,a};b.scaleAndAdd=function(a,b,e,d){return a[0]=b[0]+e[0]*d,a[1]=b[1]+e[1]*d,a[2]=b[2]+e[2]*d,a[3]=b[3]+e[3]*d,a};b.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],f=b[2]-a[2],g=b[3]-a[3];return Math.sqrt(c*
c+d*d+f*f+g*g)};b.dist=b.distance;b.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1],f=b[2]-a[2],g=b[3]-a[3];return c*c+d*d+f*f+g*g};b.sqrDist=b.squaredDistance;b.length=function(a){var b=a[0],e=a[1],d=a[2];a=a[3];return Math.sqrt(b*b+e*e+d*d+a*a)};b.len=b.length;b.squaredLength=function(a){var b=a[0],e=a[1],d=a[2];a=a[3];return b*b+e*e+d*d+a*a};b.sqrLen=b.squaredLength;b.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a[2]=-b[2],a[3]=-b[3],a};b.inverse=function(a,b){return a[0]=1/b[0],
a[1]=1/b[1],a[2]=1/b[2],a[3]=1/b[3],a};b.normalize=function(a,b){var c=b[0],d=b[1],f=b[2],g=b[3],h=c*c+d*d+f*f+g*g;return 0<h&&(h=1/Math.sqrt(h),a[0]=c*h,a[1]=d*h,a[2]=f*h,a[3]=g*h),a};b.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]+a[2]*b[2]+a[3]*b[3]};b.lerp=function(a,b,e,d){var c=b[0],f=b[1],g=b[2];b=b[3];return a[0]=c+d*(e[0]-c),a[1]=f+d*(e[1]-f),a[2]=g+d*(e[2]-g),a[3]=b+d*(e[3]-b),a};b.random=function(a,c){return c=c||1,a[0]=h.RANDOM(),a[1]=h.RANDOM(),a[2]=h.RANDOM(),a[3]=h.RANDOM(),b.normalize(a,
a),b.scale(a,a,c),a};b.transformMat4=function(a,b,e){var c=b[0],d=b[1],f=b[2];b=b[3];return a[0]=e[0]*c+e[4]*d+e[8]*f+e[12]*b,a[1]=e[1]*c+e[5]*d+e[9]*f+e[13]*b,a[2]=e[2]*c+e[6]*d+e[10]*f+e[14]*b,a[3]=e[3]*c+e[7]*d+e[11]*f+e[15]*b,a};b.transformQuat=function(a,b,e){var c=b[0],d=b[1],f=b[2],g=e[0],h=e[1],I=e[2];e=e[3];var K=e*c+h*f-I*d,E=e*d+I*c-g*f,p=e*f+g*d-h*c,c=-g*c-h*d-I*f;return a[0]=K*e+c*-g+E*-I-p*-h,a[1]=E*e+c*-h+p*-g-K*-I,a[2]=p*e+c*-I+K*-h-E*-g,a[3]=b[3],a};b.forEach=function(){var a=b.create();
return function(b,e,d,f,g,h){e||(e=4);d||(d=0);for(f=f?Math.min(f*e+d,b.length):b.length;f>d;d+=e)a[0]=b[d],a[1]=b[d+1],a[2]=b[d+2],a[3]=b[d+3],g(a,a,h),b[d]=a[0],b[d+1]=a[1],b[d+2]=a[2],b[d+3]=a[3];return b}}();b.str=function(a){return"vec4("+a[0]+", "+a[1]+", "+a[2]+", "+a[3]+")"};f.exports=b},function(f,g,d){var h=d(1),b={create:function(){var a=new h.ARRAY_TYPE(2);return a[0]=0,a[1]=0,a},clone:function(a){var b=new h.ARRAY_TYPE(2);return b[0]=a[0],b[1]=a[1],b},fromValues:function(a,b){var c=new h.ARRAY_TYPE(2);
return c[0]=a,c[1]=b,c},copy:function(a,b){return a[0]=b[0],a[1]=b[1],a},set:function(a,b,e){return a[0]=b,a[1]=e,a},add:function(a,b,e){return a[0]=b[0]+e[0],a[1]=b[1]+e[1],a},subtract:function(a,b,e){return a[0]=b[0]-e[0],a[1]=b[1]-e[1],a}};b.sub=b.subtract;b.multiply=function(a,b,e){return a[0]=b[0]*e[0],a[1]=b[1]*e[1],a};b.mul=b.multiply;b.divide=function(a,b,e){return a[0]=b[0]/e[0],a[1]=b[1]/e[1],a};b.div=b.divide;b.min=function(a,b,e){return a[0]=Math.min(b[0],e[0]),a[1]=Math.min(b[1],e[1]),
a};b.max=function(a,b,e){return a[0]=Math.max(b[0],e[0]),a[1]=Math.max(b[1],e[1]),a};b.scale=function(a,b,e){return a[0]=b[0]*e,a[1]=b[1]*e,a};b.scaleAndAdd=function(a,b,e,d){return a[0]=b[0]+e[0]*d,a[1]=b[1]+e[1]*d,a};b.distance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return Math.sqrt(c*c+d*d)};b.dist=b.distance;b.squaredDistance=function(a,b){var c=b[0]-a[0],d=b[1]-a[1];return c*c+d*d};b.sqrDist=b.squaredDistance;b.length=function(a){var b=a[0];a=a[1];return Math.sqrt(b*b+a*a)};b.len=b.length;
b.squaredLength=function(a){var b=a[0];a=a[1];return b*b+a*a};b.sqrLen=b.squaredLength;b.negate=function(a,b){return a[0]=-b[0],a[1]=-b[1],a};b.inverse=function(a,b){return a[0]=1/b[0],a[1]=1/b[1],a};b.normalize=function(a,b){var c=b[0],d=b[1],c=c*c+d*d;return 0<c&&(c=1/Math.sqrt(c),a[0]=b[0]*c,a[1]=b[1]*c),a};b.dot=function(a,b){return a[0]*b[0]+a[1]*b[1]};b.cross=function(a,b,e){b=b[0]*e[1]-b[1]*e[0];return a[0]=a[1]=0,a[2]=b,a};b.lerp=function(a,b,e,d){var c=b[0];b=b[1];return a[0]=c+d*(e[0]-c),
a[1]=b+d*(e[1]-b),a};b.random=function(a,b){b=b||1;var c=2*h.RANDOM()*Math.PI;return a[0]=Math.cos(c)*b,a[1]=Math.sin(c)*b,a};b.transformMat2=function(a,b,e){var c=b[0];b=b[1];return a[0]=e[0]*c+e[2]*b,a[1]=e[1]*c+e[3]*b,a};b.transformMat2d=function(a,b,e){var c=b[0];b=b[1];return a[0]=e[0]*c+e[2]*b+e[4],a[1]=e[1]*c+e[3]*b+e[5],a};b.transformMat3=function(a,b,e){var c=b[0];b=b[1];return a[0]=e[0]*c+e[3]*b+e[6],a[1]=e[1]*c+e[4]*b+e[7],a};b.transformMat4=function(a,b,e){var c=b[0];b=b[1];return a[0]=
e[0]*c+e[4]*b+e[12],a[1]=e[1]*c+e[5]*b+e[13],a};b.forEach=function(){var a=b.create();return function(b,e,d,f,g,h){e||(e=2);d||(d=0);for(f=f?Math.min(f*e+d,b.length):b.length;f>d;d+=e)a[0]=b[d],a[1]=b[d+1],g(a,a,h),b[d]=a[0],b[d+1]=a[1];return b}}();b.str=function(a){return"vec2("+a[0]+", "+a[1]+")"};f.exports=b}])});window.addEventListener("load",Start);var gridsize=40;
function Start(){var f=document.getElementById("canvas");f.width=innerWidth;f.height=innerHeight;var g=["webgl","experimental-webgl"],d;for(d in g)try{if((gl=f.getContext(g[d],{}))&&"function"==typeof gl.getParameter)break}catch(h){}null==gl&&alert("could not initialize webGL");window.zoom=45;window.camera=new createCamera;camera.autoCentered=!0;camera.radius=zoom;window.projection=mat4.create();window.model=mat4.create();window.view=mat4.create();mat4.perspective(projection,window.zoom,innerWidth/
innerHeight,.1,100);for(d=0;12>d;d++)incrementors[d]=40*Math.random()-20;window.ctrls=new Controls;g=new dat.GUI;f=g.addFolder("Atoms Radius");f.add(ctrls,"atom1_radius",2,10);f.add(ctrls,"atom2_radius",2,10);f.add(ctrls,"atom3_radius",2,10);f.add(ctrls,"atom4_radius",2,10);f.add(ctrls,"atom5_radius",2,10);g=g.addFolder("Animation Settings");g.add(ctrls,"anim_duration",1,20);g.add(ctrls,"blending_level",.01,.5);f.open();g.open();create_main_program();requestAnimationFrame(draw)}
var then=0,multipliers=[0,0,0,0,0,0,0,0,0,0,0,0],incrementors=[0,0,0,0,0,0,0,0,0,0,0,0];
function draw(f){requestAnimationFrame(draw);f*=.001;var g=f-then;then=f;var d=Float32Array.BYTES_PER_ELEMENT,h=updatemultipliers(f);atom1.x=Math.sin(f)*multipliers[0];atom1.y=Math.cos(f)*multipliers[1];atom1.z=Math.sin(f)*multipliers[2];atom2.x=Math.sin(f)*multipliers[3];atom2.y=Math.cos(f)*multipliers[4];atom2.z=Math.sin(f)*multipliers[5];atom3.x=Math.sin(f)*multipliers[6];atom3.y=Math.cos(f)*multipliers[7];atom3.z=Math.sin(f)*multipliers[8];atom4.x=Math.sin(f)*multipliers[9];atom4.y=Math.cos(f)*
multipliers[10];atom4.z=Math.sin(f)*multipliers[11];atom5.x=Math.sin(f)*multipliers[2];atom5.y=Math.cos(f)*multipliers[6];atom5.z=Math.sin(f)*multipliers[3];compute_isovalues();triangulate();MainProgram.nverts=vertices.length/12;gl.bindBuffer(gl.ARRAY_BUFFER,MainProgram.buffer);gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(vertices),gl.STATIC_DRAW);gl.useProgram(MainProgram);gl.enable(gl.DEPTH_TEST);gl.clearColor(.1,0,.2,1);gl.clear(gl.COLOR_BUFFER_BIT);gl.bindBuffer(gl.ARRAY_BUFFER,MainProgram.buffer);
gl.enableVertexAttribArray(MainProgram.a1);gl.enableVertexAttribArray(MainProgram.a2);gl.enableVertexAttribArray(MainProgram.a3);gl.enableVertexAttribArray(MainProgram.a4);gl.vertexAttribPointer(MainProgram.a1,3,gl.FLOAT,!1,12*d,0);gl.vertexAttribPointer(MainProgram.a2,3,gl.FLOAT,!1,12*d,3*d);gl.vertexAttribPointer(MainProgram.a3,3,gl.FLOAT,!1,12*d,6*d);gl.vertexAttribPointer(MainProgram.a4,3,gl.FLOAT,!1,12*d,9*d);mat4.perspective(projection,window.zoom,innerWidth/innerHeight,.1,100);gl.uniformMatrix4fv(MainProgram.projection,
!1,projection);gl.uniformMatrix4fv(MainProgram.model,!1,model);gl.uniformMatrix4fv(MainProgram.view,!1,camera.getViewMatrix(g,.3));gl.uniform1f(MainProgram.t,h);gl.drawArrays(gl.TRIANGLES,0,MainProgram.nverts)}var Controls=function(){this.atom1_radius=7;this.atom2_radius=4;this.atom3_radius=5;this.atom4_radius=8;this.atom5_radius=7;this.anim_duration=6;this.blending_level=.3},last_t=0;
function updatemultipliers(f){f%=ctrls.anim_duration;if(f<last_t)for(var g=0;12>g;g++)incrementors[g]=40*Math.random()-20;last_t=f;g=ctrls.anim_duration/2;f>g?f=1-(f-g)/g:f<g&&(f/=g);f=smoothstep(f);for(g=0;12>g;g++)multipliers[g]=incrementors[g]*f;return f}function smoothstep(f){return f*f*(3-2*f)}
function create_main_program(){var f=getShader("mainv","mainf");f.a1=gl.getAttribLocation(f,"pos");f.a2=gl.getAttribLocation(f,"pos2");f.a3=gl.getAttribLocation(f,"pos3");f.a4=gl.getAttribLocation(f,"color");f.projection=gl.getUniformLocation(f,"projection");f.model=gl.getUniformLocation(f,"model");f.view=gl.getUniformLocation(f,"view");f.t=gl.getUniformLocation(f,"t");f.buffer=gl.createBuffer();compute_isovalues();triangulate();f.nverts=vertices.length/12;gl.bindBuffer(gl.ARRAY_BUFFER,f.buffer);
gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(vertices),gl.STATIC_DRAW);window.MainProgram=f}var iso_values_array=[],iso_level=.3,atom1={x:0,y:0,z:-10},atom2={x:5,y:5,z:-10},atom3={x:8,y:3,z:-13},atom4={x:2,y:1,z:-6},atom5={x:-1,y:6,z:-6},atom1radius=7,atom2radius=4,atom3radius=5,atom4radius=8,atom5radius=7;
function compute_isovalues(){iso_values_array=[];for(var f=-(gridsize/2),g=gridsize/2+1,d=f;d<g;d++)for(var h=f;h<g;h++)for(var b=f;b<g;b++){var a=vec3.length([b-atom1.x,h-atom1.y,d-atom1.z]),c=vec3.length([b-atom2.x,h-atom2.y,d-atom2.z]),e=vec3.length([b-atom3.x,h-atom3.y,d-atom3.z]),n=vec3.length([b-atom4.x,h-atom4.y,d-atom4.z]),l=vec3.length([b-atom5.x,h-atom5.y,d-atom5.z]),k=0;a<ctrls.atom1_radius&&(k+=1-a/ctrls.atom1_radius);c<ctrls.atom2_radius&&(k+=1-c/ctrls.atom2_radius);e<ctrls.atom3_radius&&
(k+=1-e/ctrls.atom3_radius);n<ctrls.atom4_radius&&(k+=1-n/ctrls.atom4_radius);l<ctrls.atom5_radius&&(k+=1-l/ctrls.atom5_radius);a=get_iso_value_index(b+g-1,h+g-1,d+g-1);iso_values_array[a]=k}}
var cubeIndex=new Uint8Array(1),edge_vert=[0,0,0,0,0,0,0,0,0,0,0,0],edge_pos=[[.5,0,1],[1,0,.5],[.5,0,0],[0,0,.5],[.5,1,1],[1,1,.5],[.5,1,0],[0,1,.5],[0,.5,1],[1,.5,1],[1,.5,0],[0,.5,0]],edge_interpolated=[[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0],[0,0,0]],vertices=[];
function triangulate(){vertices=[];for(var f=0;f<gridsize;f++)for(var g=0;g<gridsize;g++)for(var d=0;d<gridsize;d++){var h=get_iso_value(d,g,f+1),b=get_iso_value(d+1,g,f+1),a=get_iso_value(d+1,g,f),c=get_iso_value(d,g,f),e=get_iso_value(d,g+1,f+1),n=get_iso_value(d+1,g+1,f+1),l=get_iso_value(d+1,g+1,f),k=get_iso_value(d,g+1,f);cubeIndex[0]=0;h<ctrls.blending_level&&(cubeIndex[0]|=1);b<ctrls.blending_level&&(cubeIndex[0]|=2);a<ctrls.blending_level&&(cubeIndex[0]|=4);c<ctrls.blending_level&&(cubeIndex[0]|=
8);e<ctrls.blending_level&&(cubeIndex[0]|=16);n<ctrls.blending_level&&(cubeIndex[0]|=32);l<ctrls.blending_level&&(cubeIndex[0]|=64);k<ctrls.blending_level&&(cubeIndex[0]|=128);if(0!=edgeTable[cubeIndex[0]])for(edgeTable[cubeIndex[0]]&1&&interpolate_edge(0,h,b,ctrls.blending_level,0,1),edgeTable[cubeIndex[0]]&2&&interpolate_edge(1,b,a,ctrls.blending_level,1,2),edgeTable[cubeIndex[0]]&4&&interpolate_edge(2,a,c,ctrls.blending_level,2,3),edgeTable[cubeIndex[0]]&8&&interpolate_edge(3,c,h,ctrls.blending_level,
3,0),edgeTable[cubeIndex[0]]&16&&interpolate_edge(4,e,n,ctrls.blending_level,4,5),edgeTable[cubeIndex[0]]&32&&interpolate_edge(5,n,l,ctrls.blending_level,5,6),edgeTable[cubeIndex[0]]&64&&interpolate_edge(6,l,k,ctrls.blending_level,6,7),edgeTable[cubeIndex[0]]&128&&interpolate_edge(7,k,e,ctrls.blending_level,7,4),edgeTable[cubeIndex[0]]&256&&interpolate_edge(8,h,e,ctrls.blending_level,0,4),edgeTable[cubeIndex[0]]&512&&interpolate_edge(9,b,n,ctrls.blending_level,1,5),edgeTable[cubeIndex[0]]&1024&&interpolate_edge(10,
a,l,ctrls.blending_level,2,6),edgeTable[cubeIndex[0]]&2048&&interpolate_edge(11,c,k,ctrls.blending_level,3,7),i=0;-1!=triTable[cubeIndex[0]][i];i+=3){var c=triTable[cubeIndex[0]][i],l=triTable[cubeIndex[0]][i+1],a=triTable[cubeIndex[0]][i+2],h=-(gridsize/2)+d+edge_interpolated[c][0],b=-(gridsize/2)+g+edge_interpolated[c][1],c=-(gridsize/2)+f+edge_interpolated[c][2],e=-(gridsize/2)+d+edge_interpolated[l][0],n=-(gridsize/2)+g+edge_interpolated[l][1],l=-(gridsize/2)+f+edge_interpolated[l][2],k=-(gridsize/
2)+d+edge_interpolated[a][0],m=-(gridsize/2)+g+edge_interpolated[a][1],a=-(gridsize/2)+f+edge_interpolated[a][2];vertices.push(h,b,c,e,n,l,k,m,a,1,0,0,e,n,l,k,m,a,h,b,c,0,1,0,k,m,a,h,b,c,e,n,l,0,0,1)}}}var vertex_cell_pos=[[0,0,1],[1,0,1],[1,0,0],[0,0,0],[0,1,1],[1,1,1],[1,1,0],[0,1,0]];
function interpolate_edge(f,g,d,h,b,a){g=1-(h-g)/(d-g);edge_interpolated[f][0]=vertex_cell_pos[b][0]*g+vertex_cell_pos[a][0]*(1-g);edge_interpolated[f][1]=vertex_cell_pos[b][1]*g+vertex_cell_pos[a][1]*(1-g);edge_interpolated[f][2]=vertex_cell_pos[b][2]*g+vertex_cell_pos[a][2]*(1-g)}function get_iso_value(f,g,d){return iso_values_array[d*(gridsize+1)*(gridsize+1)+g*(gridsize+1)+f]}function get_iso_value_index(f,g,d){return d*(gridsize+1)*(gridsize+1)+g*(gridsize+1)+f}
function get_cell_value_index(f,g,d){return d*gridsize*gridsize+g*gridsize+f}
var edgeTable=new Int32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,
598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,
681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0]),triTable=[[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,1,2,10,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1],[9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1],[3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1],[3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1],[3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1],[9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,7,8,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1],[4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1],[9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1],[2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1],[8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1],[9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1],[4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1],[3,10,1,
3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1],[1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1],[4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1],[4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1],[9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1],[1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1],[5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1],[2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,
-1,-1],[9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1],[0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1],[2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1],[10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1],[4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1],[5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1],[5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1],[9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1],[0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1],[1,5,3,3,5,7,-1,-1,-1,-1,-1,
-1,-1,-1,-1,-1],[9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1],[10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1],[8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1],[2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1],[7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1],[9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1],[2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1],[11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1],[9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1],[5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1],[11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1],[11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,
-1],[10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1],[1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1],[9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1],[5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1],[2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1],[0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1],[5,10,6,1,9,2,9,11,2,
9,8,11,-1,-1,-1,-1],[6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1],[0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1],[3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1],[6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1],[5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1],[1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1],[10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1],[6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1],[1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1],[8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1],[7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,
-1],[3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1],[5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1],[0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1],[9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1],[8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1],[5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1],[0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1],[6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1],[10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1],[10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1],[8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1],[1,4,9,1,
2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1],[3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1],[0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1],[10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1],[0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1],[3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1],[6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1],[9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1],[8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1],[3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1],[6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,10,6,7,8,10,8,9,10,
-1,-1,-1,-1,-1,-1,-1],[0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1],[10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1],[10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1],[1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1],[2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1],[7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1],[7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1],[2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1],[1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1],[11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1],[8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1],[0,
9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1],[7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1],[10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1],[2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1],[6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1],[7,2,3,6,2,7,-1,-1,
-1,-1,-1,-1,-1,-1,-1,-1],[7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1],[2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1],[1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1],[10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1],[10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1],[0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1],[7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1],[6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1],[8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1],[9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1],[6,8,4,6,11,8,2,10,1,
-1,-1,-1,-1,-1,-1,-1],[1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1],[4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1],[10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1],[8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1],[0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1],[1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1],[8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1],[10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1],[4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1],[10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,
-1,-1,-1,-1],[0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1],[5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1],[11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1],[9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1],[6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1],[7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1],[3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1],[7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1],[9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1],[3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1],[6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1],[9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1],[1,6,10,1,7,6,
1,0,7,8,7,0,9,5,4,-1],[4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1],[7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1],[6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1],[3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1],[0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1],[6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1],[1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1],[0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1],[11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1],[6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1],[5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1],[9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,
-1],[1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1],[1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1],[10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1],[0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1],[5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1],[10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1],[11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1],[0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,
-1,-1],[9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1],[7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1],[2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1],[8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1],[9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1],[9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1],[1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1],[9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1],[9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1],[5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1],[0,1,9,
8,4,10,8,10,11,10,4,5,-1,-1,-1,-1],[10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1],[2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1],[0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1],[0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1],[9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1],[5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1],[3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1],[5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1],[8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1],[0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[8,4,5,8,5,3,9,0,5,0,3,5,
-1,-1,-1,-1],[9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1],[0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1],[1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1],[3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1],[4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1],[9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1],[11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1],[11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1],[2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1],[9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1],[3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,
-1],[1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1],[4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1],[4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1],[0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1],[3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1],[3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1],[0,2,11,8,0,11,
-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1],[9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1],[1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1]];
!function(f,g){"object"==typeof exports&&"object"==typeof module?module.exports=g():"function"==typeof define&&define.amd?define([],g):"object"==typeof exports?exports.dat=g():f.dat=g()}(this,function(){return function(f){function g(h){if(d[h])return d[h].exports;var b=d[h]={exports:{},id:h,loaded:!1};return f[h].call(b.exports,b,b.exports,g),b.loaded=!0,b.exports}var d={};return g.m=f,g.c=d,g.p="",g(0)}([function(f,g,d){g=d(1);f.exports=(g&&g.__esModule?g:{"default":g})["default"]},function(f,g,
d){function h(a){return a&&a.__esModule?a:{"default":a}}g.__esModule=!0;f=d(2);f=h(f);var b=d(6),b=h(b),a=d(3),a=h(a),c=d(7),c=h(c),e=d(8),e=h(e),n=d(10),n=h(n),l=d(11),l=h(l),k=d(12),k=h(k),m=d(13),m=h(m),y=d(14),y=h(y),I=d(15),I=h(I),K=d(16),K=h(K),E=d(9),E=h(E);d=d(17);d=h(d);g["default"]={color:{Color:f["default"],math:b["default"],interpret:a["default"]},controllers:{Controller:c["default"],BooleanController:e["default"],OptionController:n["default"],StringController:l["default"],NumberController:k["default"],
NumberControllerBox:m["default"],NumberControllerSlider:y["default"],FunctionController:I["default"],ColorController:K["default"]},dom:{dom:E["default"]},gui:{GUI:d["default"]},GUI:d["default"]}},function(f,g,d){function h(a){return a&&a.__esModule?a:{"default":a}}function b(a,b,c){Object.defineProperty(a,b,{get:function(){return"RGB"===this.__state.space?this.__state[b]:(k.recalculateRGB(this,b,c),this.__state[b])},set:function(a){"RGB"!==this.__state.space&&(k.recalculateRGB(this,b,c),this.__state.space=
"RGB");this.__state[b]=a}})}function a(a,b){Object.defineProperty(a,b,{get:function(){return"HSV"===this.__state.space?this.__state[b]:(k.recalculateHSV(this),this.__state[b])},set:function(a){"HSV"!==this.__state.space&&(k.recalculateHSV(this),this.__state.space="HSV");this.__state[b]=a}})}g.__esModule=!0;f=d(3);var c=h(f);f=d(6);var e=h(f);f=d(4);var n=h(f);d=d(5);var l=h(d),k=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");if(this.__state=
c["default"].apply(this,arguments),!1===this.__state)throw Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return a.prototype.toString=function(){return(0,n["default"])(this)},a.prototype.toHexString=function(){return(0,n["default"])(this,!0)},a.prototype.toOriginal=function(){return this.__state.conversion.write(this)},a}();k.recalculateRGB=function(a,b,c){if("HEX"===a.__state.space)a.__state[b]=e["default"].component_from_hex(a.__state.hex,c);else{if("HSV"!==a.__state.space)throw Error("Corrupted color state");
l["default"].extend(a.__state,e["default"].hsv_to_rgb(a.__state.h,a.__state.s,a.__state.v))}};k.recalculateHSV=function(a){var b=e["default"].rgb_to_hsv(a.r,a.g,a.b);l["default"].extend(a.__state,{s:b.s,v:b.v});l["default"].isNaN(b.h)?l["default"].isUndefined(a.__state.h)&&(a.__state.h=0):a.__state.h=b.h};k.COMPONENTS="r g b h s v hex a".split(" ");b(k.prototype,"r",2);b(k.prototype,"g",1);b(k.prototype,"b",0);a(k.prototype,"h");a(k.prototype,"s");a(k.prototype,"v");Object.defineProperty(k.prototype,
"a",{get:function(){return this.__state.a},set:function(a){this.__state.a=a}});Object.defineProperty(k.prototype,"hex",{get:function(){return this.__state.hex=e["default"].rgb_to_hex(this.r,this.g,this.b),this.__state.hex},set:function(a){this.__state.space="HEX";this.__state.hex=a}});g["default"]=k},function(f,g,d){g.__esModule=!0;f=(f=d(4))&&f.__esModule?f:{"default":f};var h=(d=d(5))&&d.__esModule?d:{"default":d},b=[{litmus:h["default"].isString,conversions:{THREE_CHAR_HEX:{read:function(a){a=
a.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==a&&{space:"HEX",hex:parseInt("0x"+a[1].toString()+a[1].toString()+a[2].toString()+a[2].toString()+a[3].toString()+a[3].toString(),0)}},write:f["default"]},SIX_CHAR_HEX:{read:function(a){a=a.match(/^#([A-F0-9]{6})$/i);return null!==a&&{space:"HEX",hex:parseInt("0x"+a[1].toString(),0)}},write:f["default"]},CSS_RGB:{read:function(a){a=a.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==a&&{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),
b:parseFloat(a[3])}},write:f["default"]},CSS_RGBA:{read:function(a){a=a.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==a&&{space:"RGB",r:parseFloat(a[1]),g:parseFloat(a[2]),b:parseFloat(a[3]),a:parseFloat(a[4])}},write:f["default"]}}},{litmus:h["default"].isNumber,conversions:{HEX:{read:function(a){return{space:"HEX",hex:a,conversionName:"HEX"}},write:function(a){return a.hex}}}},{litmus:h["default"].isArray,conversions:{RGB_ARRAY:{read:function(a){return 3===a.length&&
{space:"RGB",r:a[0],g:a[1],b:a[2]}},write:function(a){return[a.r,a.g,a.b]}},RGBA_ARRAY:{read:function(a){return 4===a.length&&{space:"RGB",r:a[0],g:a[1],b:a[2],a:a[3]}},write:function(a){return[a.r,a.g,a.b,a.a]}}}},{litmus:h["default"].isObject,conversions:{RGBA_OBJ:{read:function(a){return!!(h["default"].isNumber(a.r)&&h["default"].isNumber(a.g)&&h["default"].isNumber(a.b)&&h["default"].isNumber(a.a))&&{space:"RGB",r:a.r,g:a.g,b:a.b,a:a.a}},write:function(a){return{r:a.r,g:a.g,b:a.b,a:a.a}}},RGB_OBJ:{read:function(a){return!!(h["default"].isNumber(a.r)&&
h["default"].isNumber(a.g)&&h["default"].isNumber(a.b))&&{space:"RGB",r:a.r,g:a.g,b:a.b}},write:function(a){return{r:a.r,g:a.g,b:a.b}}},HSVA_OBJ:{read:function(a){return!!(h["default"].isNumber(a.h)&&h["default"].isNumber(a.s)&&h["default"].isNumber(a.v)&&h["default"].isNumber(a.a))&&{space:"HSV",h:a.h,s:a.s,v:a.v,a:a.a}},write:function(a){return{h:a.h,s:a.s,v:a.v,a:a.a}}},HSV_OBJ:{read:function(a){return!!(h["default"].isNumber(a.h)&&h["default"].isNumber(a.s)&&h["default"].isNumber(a.v))&&{space:"HSV",
h:a.h,s:a.s,v:a.v}},write:function(a){return{h:a.h,s:a.s,v:a.v}}}}}],a=void 0,c=void 0;g["default"]=function(){c=!1;var e=1<arguments.length?h["default"].toArray(arguments):arguments[0];return h["default"].each(b,function(b){if(b.litmus(e))return h["default"].each(b.conversions,function(b,d){if(a=b.read(e),!1===c&&!1!==a)return c=a,a.conversionName=d,a.conversion=b,h["default"].BREAK}),h["default"].BREAK}),c}},function(f,g){g.__esModule=!0;g["default"]=function(d,f){var b=d.__state.conversionName.toString(),
a=Math.round(d.r),c=Math.round(d.g),e=Math.round(d.b),g=d.a,h=Math.round(d.h),k=d.s.toFixed(1),m=d.v.toFixed(1);if(f||"THREE_CHAR_HEX"===b||"SIX_CHAR_HEX"===b){for(b=d.hex.toString(16);6>b.length;)b="0"+b;return"#"+b}return"CSS_RGB"===b?"rgb("+a+","+c+","+e+")":"CSS_RGBA"===b?"rgba("+a+","+c+","+e+","+g+")":"HEX"===b?"0x"+d.hex.toString(16):"RGB_ARRAY"===b?"["+a+","+c+","+e+"]":"RGBA_ARRAY"===b?"["+a+","+c+","+e+","+g+"]":"RGB_OBJ"===b?"{r:"+a+",g:"+c+",b:"+e+"}":"RGBA_OBJ"===b?"{r:"+a+",g:"+c+",b:"+
e+",a:"+g+"}":"HSV_OBJ"===b?"{h:"+h+",s:"+k+",v:"+m+"}":"HSVA_OBJ"===b?"{h:"+h+",s:"+k+",v:"+m+",a:"+g+"}":"unknown format"}},function(f,g){g.__esModule=!0;var d=Array.prototype.forEach,h=Array.prototype.slice,b={BREAK:{},extend:function(a){return this.each(h.call(arguments,1),function(b){(this.isObject(b)?Object.keys(b):[]).forEach(function(c){this.isUndefined(b[c])||(a[c]=b[c])}.bind(this))},this),a},defaults:function(a){return this.each(h.call(arguments,1),function(b){(this.isObject(b)?Object.keys(b):
[]).forEach(function(c){this.isUndefined(a[c])&&(a[c]=b[c])}.bind(this))},this),a},compose:function(){var a=h.call(arguments);return function(){for(var b=h.call(arguments),e=a.length-1;0<=e;e--)b=[a[e].apply(this,b)];return b[0]}},each:function(a,b,e){if(a)if(d&&a.forEach&&a.forEach===d)a.forEach(b,e);else if(a.length===a.length+0){var c,f;c=0;for(f=a.length;c<f&&!(c in a&&b.call(e,a[c],c)===this.BREAK);c++);}else for(c in a)if(b.call(e,a[c],c)===this.BREAK)break},defer:function(a){setTimeout(a,0)},
debounce:function(a,b){var c=void 0;return function(){var e=arguments,d=!c;clearTimeout(c);c=setTimeout(function(){c=null},b);d&&a.apply(this,e)}},toArray:function(a){return a.toArray?a.toArray():h.call(a)},isUndefined:function(a){return void 0===a},isNull:function(a){return null===a},isNaN:function(a){function b(b){return a.apply(this,arguments)}return b.toString=function(){return a.toString()},b}(function(a){return isNaN(a)}),isArray:Array.isArray||function(a){return a.constructor===Array},isObject:function(a){return a===
Object(a)},isNumber:function(a){return a===a+0},isString:function(a){return a===a+""},isBoolean:function(a){return!1===a||!0===a},isFunction:function(a){return"[object Function]"===Object.prototype.toString.call(a)}};g["default"]=b},function(f,g){g.__esModule=!0;var d=void 0;g["default"]={hsv_to_rgb:function(d,b,a){var c=d/60-Math.floor(d/60),e=a*(1-b),f=a*(1-c*b);b=a*(1-(1-c)*b);d=[[a,b,e],[f,a,e],[e,a,b],[e,f,a],[b,e,a],[a,e,f]][Math.floor(d/60)%6];return{r:255*d[0],g:255*d[1],b:255*d[2]}},rgb_to_hsv:function(d,
b,a){var c=Math.max(d,b,a),e=c-Math.min(d,b,a),f=void 0,g=void 0;return 0===c?{h:NaN,s:0,v:0}:(g=e/c,f=d===c?(b-a)/e:b===c?2+(a-d)/e:4+(d-b)/e,f/=6,0>f&&(f+=1),{h:360*f,s:g,v:c/255})},rgb_to_hex:function(d,b,a){d=this.hex_with_component(0,2,d);return d=this.hex_with_component(d,1,b),this.hex_with_component(d,0,a)},component_from_hex:function(d,b){return d>>8*b&255},hex_with_component:function(f,b,a){return a<<(d=8*b)|f&~(255<<d)}}},function(f,g){g.__esModule=!0;var d=function(){function d(b,a){if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");this.initialValue=b[a];this.domElement=document.createElement("div");this.object=b;this.property=a;this.__onFinishChange=this.__onChange=void 0}return d.prototype.onChange=function(b){return this.__onChange=b,this},d.prototype.onFinishChange=function(b){return this.__onFinishChange=b,this},d.prototype.setValue=function(b){return this.object[this.property]=b,this.__onChange&&this.__onChange.call(this,b),this.updateDisplay(),this},d.prototype.getValue=
function(){return this.object[this.property]},d.prototype.updateDisplay=function(){return this},d.prototype.isModified=function(){return this.initialValue!==this.getValue()},d}();g["default"]=d},function(f,g,d){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function b(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+
typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;f=(f=d(7))&&f.__esModule?f:{"default":f};var a=(d=d(9))&&d.__esModule?d:{"default":d};d=function(c){function e(b,d){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var f=h(this,c.call(this,b,d));return f.__prev=f.getValue(),f.__checkbox=document.createElement("input"),
f.__checkbox.setAttribute("type","checkbox"),a["default"].bind(f.__checkbox,"change",function(){f.setValue(!f.__prev)},!1),f.domElement.appendChild(f.__checkbox),f.updateDisplay(),f}return b(e,c),e.prototype.setValue=function(a){a=c.prototype.setValue.call(this,a);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),a},e.prototype.updateDisplay=function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=
!0):this.__checkbox.checked=!1,c.prototype.updateDisplay.call(this)},e}(f["default"]);g["default"]=d},function(f,g,d){function h(a){if("0"===a||b["default"].isUndefined(a))return 0;a=a.match(c);return b["default"].isNull(a)?0:parseFloat(a[1])}g.__esModule=!0;var b=(f=d(5))&&f.__esModule?f:{"default":f},a={};b["default"].each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(c,e){b["default"].each(c,function(b){a[b]=e})});
var c=/(\d+(\.\d+)?)px/,e={makeSelectable:function(a,b){void 0!==a&&void 0!==a.style&&(a.onselectstart=b?function(){return!1}:function(){},a.style.MozUserSelect=b?"auto":"none",a.style.KhtmlUserSelect=b?"auto":"none",a.unselectable=b?"on":"off")},makeFullscreen:function(a,c,e){b["default"].isUndefined(c)&&(c=!0);b["default"].isUndefined(e)&&(e=!0);a.style.position="absolute";c&&(a.style.left=0,a.style.right=0);e&&(a.style.top=0,a.style.bottom=0)},fakeEvent:function(c,e,d,f){d=d||{};var g=a[e];if(!g)throw Error("Event type "+
e+" not supported.");var h=document.createEvent(g);switch(g){case "MouseEvents":h.initMouseEvent(e,d.bubbles||!1,d.cancelable||!0,window,d.clickCount||1,0,0,d.x||d.clientX||0,d.y||d.clientY||0,!1,!1,!1,!1,0,null);break;case "KeyboardEvents":g=h.initKeyboardEvent||h.initKeyEvent;b["default"].defaults(d,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0});g(e,d.bubbles||!1,d.cancelable,window,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.keyCode,d.charCode);break;
default:h.initEvent(e,d.bubbles||!1,d.cancelable||!0)}b["default"].defaults(h,f);c.dispatchEvent(h)},bind:function(a,b,c,d){return a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c),e},unbind:function(a,b,c,d){return a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c),e},addClass:function(a,b){if(void 0===a.className)a.className=b;else if(a.className!==b){var c=a.className.split(/ +/);-1===c.indexOf(b)&&(c.push(b),a.className=
c.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return e},removeClass:function(a,b){if(b)if(a.className===b)a.removeAttribute("class");else{var c=a.className.split(/ +/),d=c.indexOf(b);-1!==d&&(c.splice(d,1),a.className=c.join(" "))}else a.className=void 0;return e},hasClass:function(a,b){return(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)")).test(a.className)||!1},getWidth:function(a){a=getComputedStyle(a);return h(a["border-left-width"])+h(a["border-right-width"])+h(a["padding-left"])+h(a["padding-right"])+
h(a.width)},getHeight:function(a){a=getComputedStyle(a);return h(a["border-top-width"])+h(a["border-bottom-width"])+h(a["padding-top"])+h(a["padding-bottom"])+h(a.height)},getOffset:function(a){var b={left:0,top:0};if(a.offsetParent){do b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;while(a)}return b},isActive:function(a){return a===document.activeElement&&(a.type||a.href)}};g["default"]=e},function(f,g,d){function h(a){return a&&a.__esModule?a:{"default":a}}function b(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function a(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;f=d(7);f=h(f);var c=d(9),e=h(c);d=d(5);var n=h(d);d=function(c){function d(a,f,g){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");
var h=b(this,c.call(this,a,f)),k=g;return h.__select=document.createElement("select"),n["default"].isArray(k)&&!function(){var a={};n["default"].each(k,function(b){a[b]=b});k=a}(),n["default"].each(k,function(a,b){var c=document.createElement("option");c.innerHTML=b;c.setAttribute("value",a);h.__select.appendChild(c)}),h.updateDisplay(),e["default"].bind(h.__select,"change",function(){h.setValue(this.options[this.selectedIndex].value)}),h.domElement.appendChild(h.__select),h}return a(d,c),d.prototype.setValue=
function(a){a=c.prototype.setValue.call(this,a);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),a},d.prototype.updateDisplay=function(){return e["default"].isActive(this.__select)?this:(this.__select.value=this.getValue(),c.prototype.updateDisplay.call(this))},d}(f["default"]);g["default"]=d},function(f,g,d){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:
b}function b(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;f=(f=d(7))&&f.__esModule?f:{"default":f};var a=(d=d(9))&&d.__esModule?d:{"default":d};d=function(c){function d(b,e){function f(){l.setValue(l.__input.value)}if(!(this instanceof
d))throw new TypeError("Cannot call a class as a function");var g=h(this,c.call(this,b,e)),l=g;return g.__input=document.createElement("input"),g.__input.setAttribute("type","text"),a["default"].bind(g.__input,"keyup",f),a["default"].bind(g.__input,"change",f),a["default"].bind(g.__input,"blur",function(){l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}),a["default"].bind(g.__input,"keydown",function(a){13===a.keyCode&&this.blur()}),g.updateDisplay(),g.domElement.appendChild(g.__input),
g}return b(d,c),d.prototype.updateDisplay=function(){return a["default"].isActive(this.__input)||(this.__input.value=this.getValue()),c.prototype.updateDisplay.call(this)},d}(f["default"]);g["default"]=d},function(f,g,d){function h(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}function b(a){a=a.toString();return-1<a.indexOf(".")?a.length-a.indexOf(".")-1:0}g.__esModule=!0;f=(f=d(7))&&f.__esModule?f:{"default":f};var a=(d=d(5))&&d.__esModule?d:{"default":d};d=function(c){function d(e,f,g){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");e=c.call(this,e,f);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");e=!e||"object"!=typeof e&&"function"!=typeof e?this:e;g=g||{};return e.__min=
g.min,e.__max=g.max,e.__step=g.step,a["default"].isUndefined(e.__step)?0===e.initialValue?e.__impliedStep=1:e.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(e.initialValue))/Math.LN10))/10:e.__impliedStep=e.__step,e.__precision=b(e.__impliedStep),e}return h(d,c),d.prototype.setValue=function(a){return void 0!==this.__min&&a<this.__min?a=this.__min:void 0!==this.__max&&a>this.__max&&(a=this.__max),void 0!==this.__step&&0!==a%this.__step&&(a=Math.round(a/this.__step)*this.__step),c.prototype.setValue.call(this,
a)},d.prototype.min=function(a){return this.__min=a,this},d.prototype.max=function(a){return this.__max=a,this},d.prototype.step=function(a){return this.__step=a,this.__impliedStep=a,this.__precision=b(a),this},d}(f["default"]);g["default"]=d},function(f,g,d){function h(a){return a&&a.__esModule?a:{"default":a}}function b(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function a(a,b){if("function"!=
typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;f=d(12);f=h(f);var c=d(9),e=h(c);d=d(5);var n=h(d);d=function(c){function d(a,f,g){function h(){m.__onFinishChange&&m.__onFinishChange.call(m,m.getValue())}function k(a){var b=q-a.clientY;m.setValue(m.getValue()+
b*m.__impliedStep);q=a.clientY}function l(){e["default"].unbind(window,"mousemove",k);e["default"].unbind(window,"mouseup",l);h()}if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");a=b(this,c.call(this,a,f,g));a.__truncationSuspended=!1;var m=a,q=void 0;return a.__input=document.createElement("input"),a.__input.setAttribute("type","text"),e["default"].bind(a.__input,"change",function(){var a=parseFloat(m.__input.value);n["default"].isNaN(a)||m.setValue(a)}),e["default"].bind(a.__input,
"blur",function(){h()}),e["default"].bind(a.__input,"mousedown",function(a){e["default"].bind(window,"mousemove",k);e["default"].bind(window,"mouseup",l);q=a.clientY}),e["default"].bind(a.__input,"keydown",function(a){13===a.keyCode&&(m.__truncationSuspended=!0,this.blur(),m.__truncationSuspended=!1,h())}),a.updateDisplay(),a.domElement.appendChild(a.__input),a}return a(d,c),d.prototype.updateDisplay=function(){var a=this.__input,b;if(this.__truncationSuspended)b=this.getValue();else{b=this.getValue();
var d=Math.pow(10,this.__precision);b=Math.round(b*d)/d}return a.value=b,c.prototype.updateDisplay.call(this)},d}(f["default"]);g["default"]=d},function(f,g,d){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function b(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,
{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function a(a,b,c,d,f){return d+(a-b)/(c-b)*(f-d)}g.__esModule=!0;f=(f=d(12))&&f.__esModule?f:{"default":f};var c=(d=d(9))&&d.__esModule?d:{"default":d};d=function(d){function e(b,f,g,n,I){function k(b){b.preventDefault();var c=l.__background.getBoundingClientRect();return l.setValue(a(b.clientX,c.left,c.right,l.__min,l.__max)),!1}function m(){c["default"].unbind(window,
"mousemove",k);c["default"].unbind(window,"mouseup",m);l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");var l=b=h(this,d.call(this,b,f,{min:g,max:n,step:I}));return b.__background=document.createElement("div"),b.__foreground=document.createElement("div"),c["default"].bind(b.__background,"mousedown",function(a){document.activeElement.blur();c["default"].bind(window,"mousemove",k);c["default"].bind(window,"mouseup",
m);k(a)}),c["default"].addClass(b.__background,"slider"),c["default"].addClass(b.__foreground,"slider-fg"),b.updateDisplay(),b.__background.appendChild(b.__foreground),b.domElement.appendChild(b.__background),b}return b(e,d),e.prototype.updateDisplay=function(){var a=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*a+"%",d.prototype.updateDisplay.call(this)},e}(f["default"]);g["default"]=d},function(f,g,d){function h(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function b(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}g.__esModule=!0;f=(f=d(7))&&f.__esModule?f:{"default":f};var a=(d=d(9))&&d.__esModule?d:{"default":d};d=function(c){function d(b,e,
f){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var g=h(this,c.call(this,b,e));return g.__button=document.createElement("div"),g.__button.innerHTML=void 0===f?"Fire":f,a["default"].bind(g.__button,"click",function(a){return a.preventDefault(),g.fire(),!1}),a["default"].addClass(g.__button,"button"),g.domElement.appendChild(g.__button),g}return b(d,c),d.prototype.fire=function(){this.__onChange&&this.__onChange.call(this);this.getValue().call(this.object);this.__onFinishChange&&
this.__onFinishChange.call(this,this.getValue())},d}(f["default"]);g["default"]=d},function(f,g,d){function h(a){return a&&a.__esModule?a:{"default":a}}function b(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function a(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,
enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}function c(a,b,c,d){a.style.background="";y["default"].each(I,function(e){a.style.cssText+="background: "+e+"linear-gradient("+b+", "+c+" 0%, "+d+" 100%); "})}function e(a){a.style.background="";a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);";a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";
a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);";a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);"}g.__esModule=!0;f=d(7);f=h(f);var n=d(9),l=h(n),n=d(2),k=h(n),n=d(3),m=h(n);d=
d(5);var y=h(d);d=function(d){function f(a,g){function h(a){D(a);l["default"].bind(window,"mousemove",D);l["default"].bind(window,"mouseup",n)}function n(){l["default"].unbind(window,"mousemove",D);l["default"].unbind(window,"mouseup",n);B()}function p(){var a=(0,m["default"])(this.value);!1!==a?(z.__color.__state=a,z.setValue(z.__color.toOriginal())):this.value=z.__color.toString()}function r(){l["default"].unbind(window,"mousemove",C);l["default"].unbind(window,"mouseup",r);B()}function B(){z.__onFinishChange&&
z.__onFinishChange.call(z,z.__color.toOriginal())}function D(a){a.preventDefault();var b=z.__saturation_field.getBoundingClientRect(),c=(a.clientX-b.left)/(b.right-b.left);a=1-(a.clientY-b.top)/(b.bottom-b.top);return 1<a?a=1:0>a&&(a=0),1<c?c=1:0>c&&(c=0),z.__color.v=a,z.__color.s=c,z.setValue(z.__color.toOriginal()),!1}function C(a){a.preventDefault();var b=z.__hue_field.getBoundingClientRect();a=1-(a.clientY-b.top)/(b.bottom-b.top);return 1<a?a=1:0>a&&(a=0),z.__color.h=360*a,z.setValue(z.__color.toOriginal()),
!1}if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");var u=b(this,d.call(this,a,g));u.__color=new k["default"](u.getValue());u.__temp=new k["default"](0);var z=u;u.domElement=document.createElement("div");l["default"].makeSelectable(u.domElement,!1);u.__selector=document.createElement("div");u.__selector.className="selector";u.__saturation_field=document.createElement("div");u.__saturation_field.className="saturation-field";u.__field_knob=document.createElement("div");
u.__field_knob.className="field-knob";u.__field_knob_border="2px solid ";u.__hue_knob=document.createElement("div");u.__hue_knob.className="hue-knob";u.__hue_field=document.createElement("div");u.__hue_field.className="hue-field";u.__input=document.createElement("input");u.__input.type="text";u.__input_textShadow="0 1px 1px ";l["default"].bind(u.__input,"keydown",function(a){13===a.keyCode&&p.call(this)});l["default"].bind(u.__input,"blur",p);l["default"].bind(u.__selector,"mousedown",function(){l["default"].addClass(this,
"drag").bind(window,"mouseup",function(){l["default"].removeClass(z.__selector,"drag")})});var t=document.createElement("div");return y["default"].extend(u.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),y["default"].extend(u.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:u.__field_knob_border+(.5>u.__color.v?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),
y["default"].extend(u.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),y["default"].extend(u.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),y["default"].extend(t.style,{width:"100%",height:"100%",background:"none"}),c(t,"top","rgba(0,0,0,0)","#000"),y["default"].extend(u.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",
position:"absolute",top:"3px",right:"3px"}),e(u.__hue_field),y["default"].extend(u.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:u.__input_textShadow+"rgba(0,0,0,0.7)"}),l["default"].bind(u.__saturation_field,"mousedown",h),l["default"].bind(u.__field_knob,"mousedown",h),l["default"].bind(u.__hue_field,"mousedown",function(a){C(a);l["default"].bind(window,"mousemove",C);l["default"].bind(window,"mouseup",r)}),u.__saturation_field.appendChild(t),
u.__selector.appendChild(u.__field_knob),u.__selector.appendChild(u.__saturation_field),u.__selector.appendChild(u.__hue_field),u.__hue_field.appendChild(u.__hue_knob),u.domElement.appendChild(u.__input),u.domElement.appendChild(u.__selector),u.updateDisplay(),u}return a(f,d),f.prototype.updateDisplay=function(){var a=(0,m["default"])(this.getValue());if(!1!==a){var b=!1;y["default"].each(k["default"].COMPONENTS,function(c){if(!y["default"].isUndefined(a[c])&&!y["default"].isUndefined(this.__color.__state[c])&&
a[c]!==this.__color.__state[c])return b=!0,{}},this);b&&y["default"].extend(this.__color.__state,a)}y["default"].extend(this.__temp.__state,this.__color.__state);this.__temp.a=1;var d=.5>this.__color.v||.5<this.__color.s?255:0,e=255-d;y["default"].extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+d+","+d+","+d+")"});this.__hue_knob.style.marginTop=100*(1-this.__color.h/
360)+"px";this.__temp.s=1;this.__temp.v=1;c(this.__saturation_field,"left","#fff",this.__temp.toHexString());this.__input.value=this.__color.toString();y["default"].extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+d+","+d+","+d+")",textShadow:this.__input_textShadow+"rgba("+e+","+e+","+e+",.7)"})},f}(f["default"]);var I=["-moz-","-o-","-webkit-","-ms-",""];g["default"]=d},function(f,g,d){function h(a){return a&&a.__esModule?a:{"default":a}}function b(a,b,c){var d=
document.createElement("li");return b&&d.appendChild(b),c?a.__ul.insertBefore(d,c):a.__ul.appendChild(d),a.onResize(),d}function a(a,b){var c=a.__preset_select[a.__preset_select.selectedIndex];b?c.innerHTML=c.value+"*":c.innerHTML=c.value}function c(b,c,d){if(d.__li=c,d.__gui=b,A["default"].extend(d,{options:function(a){if(1<arguments.length){var c=d.__li.nextElementSibling;return d.remove(),n(b,d.object,d.property,{before:c,factoryArgs:[A["default"].toArray(arguments)]})}if(A["default"].isArray(a)||
A["default"].isObject(a))return c=d.__li.nextElementSibling,d.remove(),n(b,d.object,d.property,{before:c,factoryArgs:[a]})},name:function(a){return d.__li.firstElementChild.firstElementChild.innerHTML=a,d},listen:function(){return d.__gui.listen(d),d},remove:function(){return d.__gui.remove(d),d}}),d instanceof D["default"])!function(){var a=new B["default"](d.object,d.property,{min:d.__min,max:d.__max,step:d.__step});A["default"].each(["updateDisplay","onChange","onFinishChange","step"],function(b){var c=
d[b],e=a[b];d[b]=a[b]=function(){var b=Array.prototype.slice.call(arguments);return e.apply(a,b),c.apply(d,b)}});t["default"].addClass(c,"has-slider");d.domElement.insertBefore(a.domElement,d.domElement.firstElementChild)}();else if(d instanceof B["default"]){var e=function(a){if(A["default"].isNumber(d.__min)&&A["default"].isNumber(d.__max)){a=d.__li.firstElementChild.firstElementChild.innerHTML;var c=-1<d.__gui.__listening.indexOf(d);d.remove();var e=n(b,d.object,d.property,{before:d.__li.nextElementSibling,
factoryArgs:[d.__min,d.__max,d.__step]});return e.name(a),c&&e.listen(),e}return a};d.min=A["default"].compose(e,d.min);d.max=A["default"].compose(e,d.max)}else d instanceof w["default"]?(t["default"].bind(c,"click",function(){t["default"].fakeEvent(d.__checkbox,"click")}),t["default"].bind(d.__checkbox,"click",function(a){a.stopPropagation()})):d instanceof x["default"]?(t["default"].bind(c,"click",function(){t["default"].fakeEvent(d.__button,"click")}),t["default"].bind(c,"mouseover",function(){t["default"].addClass(d.__button,
"hover")}),t["default"].bind(c,"mouseout",function(){t["default"].removeClass(d.__button,"hover")})):d instanceof C["default"]&&(t["default"].addClass(c,"color"),d.updateDisplay=A["default"].compose(function(a){return c.style.borderLeftColor=d.__color.toString(),a},d.updateDisplay),d.updateDisplay());d.setValue=A["default"].compose(function(c){return b.getRoot().__preset_select&&d.isModified()&&a(b.getRoot(),!0),c},d.setValue)}function e(a,b){var c=a.getRoot(),d=c.__rememberedObjects.indexOf(b.object);
if(-1!==d){var e=c.__rememberedObjectIndecesToControllers[d];if(void 0===e&&(e={},c.__rememberedObjectIndecesToControllers[d]=e),e[b.property]=b,c.load&&c.load.remembered){c=c.load.remembered;if(c[a.preset])c=c[a.preset];else{if(!c[L])return;c=c[L]}c[d]&&void 0!==c[d][b.property]&&(d=c[d][b.property],b.initialValue=d,b.setValue(d))}}}function n(a,d,f,g){if(void 0===d[f])throw Error('Object "'+d+'" has no property "'+f+'"');g.color?d=new C["default"](d,f):(d=[d,f].concat(g.factoryArgs),d=q["default"].apply(a,
d));g.before instanceof v["default"]&&(g.before=g.before.__li);e(a,d);t["default"].addClass(d.domElement,"c");f=document.createElement("span");t["default"].addClass(f,"property-name");f.innerHTML=d.property;var h=document.createElement("div");h.appendChild(f);h.appendChild(d.domElement);g=b(a,h,g.before);return t["default"].addClass(g,H.CLASS_CONTROLLER_ROW),d instanceof C["default"]?t["default"].addClass(g,"color"):t["default"].addClass(g,E(d.getValue())),c(a,g,d),a.__controllers.push(d),d}function l(a,
b,c){var d=document.createElement("option");d.innerHTML=b;d.value=b;a.__preset_select.appendChild(d);c&&(a.__preset_select.selectedIndex=a.__preset_select.length-1)}function k(a){var b=a.__save_row=document.createElement("li");t["default"].addClass(a.domElement,"has-save");a.__ul.insertBefore(b,a.__ul.firstChild);t["default"].addClass(b,"save-row");var c=document.createElement("span");c.innerHTML="&nbsp;";t["default"].addClass(c,"button gears");var d=document.createElement("span");d.innerHTML="Save";
t["default"].addClass(d,"button");t["default"].addClass(d,"save");var e=document.createElement("span");e.innerHTML="New";t["default"].addClass(e,"button");t["default"].addClass(e,"save-as");var f=document.createElement("span");f.innerHTML="Revert";t["default"].addClass(f,"button");t["default"].addClass(f,"revert");var g=a.__preset_select=document.createElement("select");a.load&&a.load.remembered?A["default"].each(a.load.remembered,function(b,c){l(a,c,c===a.preset)}):l(a,L,!1);t["default"].bind(g,
"change",function(){for(var b=0;b<a.__preset_select.length;b++)a.__preset_select[b].innerHTML=a.__preset_select[b].value;a.preset=this.value});b.appendChild(g);b.appendChild(c);b.appendChild(d);b.appendChild(e);b.appendChild(f);J&&!function(){var b=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block";"true"===localStorage.getItem(document.location.href+".isLocal")&&c.setAttribute("checked","checked");
b.style.display=a.useLocalStorage?"block":"none";t["default"].bind(c,"change",function(){a.useLocalStorage=!a.useLocalStorage;b.style.display=a.useLocalStorage?"block":"none"})}();var h=document.getElementById("dg-new-constructor");t["default"].bind(h,"keydown",function(a){!a.metaKey||67!==a.which&&67!==a.keyCode||N.hide()});t["default"].bind(c,"click",function(){h.innerHTML=JSON.stringify(a.getSaveObject(),void 0,2);N.show();h.focus();h.select()});t["default"].bind(d,"click",function(){a.save()});
t["default"].bind(e,"click",function(){var b=prompt("Enter a new preset name.");b&&a.saveAs(b)});t["default"].bind(f,"click",function(){a.revert()})}function m(a){function b(b){return b.preventDefault(),a.width+=e-b.clientX,a.onResize(),e=b.clientX,!1}function c(){t["default"].removeClass(a.__closeButton,H.CLASS_DRAG);t["default"].unbind(window,"mousemove",b);t["default"].unbind(window,"mouseup",c)}function d(d){return d.preventDefault(),e=d.clientX,t["default"].addClass(a.__closeButton,H.CLASS_DRAG),
t["default"].bind(window,"mousemove",b),t["default"].bind(window,"mouseup",c),!1}var e=void 0;a.__resize_handle=document.createElement("div");A["default"].extend(a.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"});t["default"].bind(a.__resize_handle,"mousedown",d);t["default"].bind(a.__closeButton,"mousedown",d);a.domElement.insertBefore(a.__resize_handle,a.domElement.firstElementChild)}function y(a,b){a.domElement.style.width=b+"px";a.__save_row&&
a.autoPlace&&(a.__save_row.style.width=b+"px");a.__closeButton&&(a.__closeButton.style.width=b+"px")}function I(a,b){var c={};return A["default"].each(a.__rememberedObjects,function(d,e){var f={};A["default"].each(a.__rememberedObjectIndecesToControllers[e],function(a,c){f[c]=b?a.initialValue:a.getValue()});c[e]=f}),c}function K(a){0!==a.length&&u["default"].call(window,function(){K(a)});A["default"].each(a,function(a){a.updateDisplay()})}var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};g=d(18);g=h(g);var p=d(19),r=h(p),p=d(20),q=h(p),p=d(7),v=h(p),p=d(8),w=h(p),p=d(15),x=h(p),p=d(13),B=h(p),p=d(14),D=h(p),p=d(16),C=h(p),p=d(21),u=h(p),p=d(22),z=h(p),p=d(9),t=h(p),p=d(5),A=h(p);d=d(23);d=h(d);g["default"].inject(d["default"]);var L="Default",J;try{J="localStorage"in window&&null!==window.localStorage}catch(Q){J=!1}var N=void 0,O=!0,G=void 0,M=!1,F=[],H=function P(a){function c(){var a=
d.getRoot();a.width+=1;A["default"].defer(function(){--a.width})}var d=this,e=a||{};this.domElement=document.createElement("div");this.__ul=document.createElement("ul");this.domElement.appendChild(this.__ul);t["default"].addClass(this.domElement,"dg");this.__folders={};this.__controllers=[];this.__rememberedObjects=[];this.__rememberedObjectIndecesToControllers=[];this.__listening=[];e=A["default"].defaults(e,{autoPlace:!0,width:P.DEFAULT_WIDTH});e=A["default"].defaults(e,{resizable:e.autoPlace,hideable:e.autoPlace});
A["default"].isUndefined(e.load)?e.load={preset:L}:e.preset&&(e.load.preset=e.preset);A["default"].isUndefined(e.parent)&&e.hideable&&F.push(this);e.resizable=A["default"].isUndefined(e.parent)&&e.resizable;e.autoPlace&&A["default"].isUndefined(e.scrollable)&&(e.scrollable=!0);var f=J&&"true"===localStorage.getItem(document.location.href+".isLocal"),g=void 0;if(Object.defineProperties(this,{parent:{get:function(){return e.parent}},scrollable:{get:function(){return e.scrollable}},autoPlace:{get:function(){return e.autoPlace}},
preset:{get:function(){return d.parent?d.getRoot().preset:e.load.preset},set:function(a){d.parent?d.getRoot().preset=a:e.load.preset=a;for(a=0;a<this.__preset_select.length;a++)this.__preset_select[a].value===this.preset&&(this.__preset_select.selectedIndex=a);d.revert()}},width:{get:function(){return e.width},set:function(a){e.width=a;y(d,a)}},name:{get:function(){return e.name},set:function(a){e.name=a;titleRowName&&(titleRowName.innerHTML=e.name)}},closed:{get:function(){return e.closed},set:function(a){e.closed=
a;e.closed?t["default"].addClass(d.__ul,P.CLASS_CLOSED):t["default"].removeClass(d.__ul,P.CLASS_CLOSED);this.onResize();d.__closeButton&&(d.__closeButton.innerHTML=a?P.TEXT_OPEN:P.TEXT_CLOSED)}},load:{get:function(){return e.load}},useLocalStorage:{get:function(){return f},set:function(a){J&&(f=a,a?t["default"].bind(window,"unload",g):t["default"].unbind(window,"unload",g),localStorage.setItem(document.location.href+".isLocal",a))}}}),A["default"].isUndefined(e.parent)){if(e.closed=!1,t["default"].addClass(this.domElement,
P.CLASS_MAIN),t["default"].makeSelectable(this.domElement,!1),J&&f)d.useLocalStorage=!0,(a=localStorage.getItem(document.location.href+".gui"))&&(e.load=JSON.parse(a));this.__closeButton=document.createElement("div");this.__closeButton.innerHTML=P.TEXT_CLOSED;t["default"].addClass(this.__closeButton,P.CLASS_CLOSE_BUTTON);this.domElement.appendChild(this.__closeButton);t["default"].bind(this.__closeButton,"click",function(){d.closed=!d.closed})}else void 0===e.closed&&(e.closed=!0),a=document.createTextNode(e.name),
t["default"].addClass(a,"controller-name"),a=b(d,a),t["default"].addClass(this.__ul,P.CLASS_CLOSED),t["default"].addClass(a,"title"),t["default"].bind(a,"click",function(a){return a.preventDefault(),d.closed=!d.closed,!1}),e.closed||(this.closed=!1);e.autoPlace&&(A["default"].isUndefined(e.parent)&&(O&&(G=document.createElement("div"),t["default"].addClass(G,"dg"),t["default"].addClass(G,P.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(G),O=!1),G.appendChild(this.domElement),t["default"].addClass(this.domElement,
P.CLASS_AUTO_PLACE)),this.parent||y(d,e.width));this.__resizeHandler=function(){d.onResizeDebounced()};t["default"].bind(window,"resize",this.__resizeHandler);t["default"].bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler);t["default"].bind(this.__ul,"transitionend",this.__resizeHandler);t["default"].bind(this.__ul,"oTransitionEnd",this.__resizeHandler);this.onResize();e.resizable&&m(this);this.saveToLocalStorageIfPossible=g=function(){J&&"true"===localStorage.getItem(document.location.href+
".isLocal")&&localStorage.setItem(document.location.href+".gui",JSON.stringify(d.getSaveObject()))};e.parent||c()};H.toggleHide=function(){M=!M;A["default"].each(F,function(a){a.domElement.style.display=M?"none":""})};H.CLASS_AUTO_PLACE="a";H.CLASS_AUTO_PLACE_CONTAINER="ac";H.CLASS_MAIN="main";H.CLASS_CONTROLLER_ROW="cr";H.CLASS_TOO_TALL="taller-than-window";H.CLASS_CLOSED="closed";H.CLASS_CLOSE_BUTTON="close-button";H.CLASS_DRAG="drag";H.DEFAULT_WIDTH=245;H.TEXT_CLOSED="Close Controls";H.TEXT_OPEN=
"Open Controls";H._keydownHandler=function(a){"text"===document.activeElement.type||72!==a.which&&72!==a.keyCode||H.toggleHide()};t["default"].bind(window,"keydown",H._keydownHandler,!1);A["default"].extend(H.prototype,{add:function(a,b){return n(this,a,b,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(a,b){return n(this,a,b,{color:!0})},remove:function(a){this.__ul.removeChild(a.__li);this.__controllers.splice(this.__controllers.indexOf(a),1);var b=this;A["default"].defer(function(){b.onResize()})},
destroy:function(){this.autoPlace&&G.removeChild(this.domElement);t["default"].unbind(window,"keydown",H._keydownHandler,!1);t["default"].unbind(window,"resize",this.__resizeHandler);this.saveToLocalStorageIfPossible&&t["default"].unbind(window,"unload",this.saveToLocalStorageIfPossible)},addFolder:function(a){if(void 0!==this.__folders[a])throw Error('You already have a folder in this GUI by the name "'+a+'"');var c={name:a,parent:this};c.autoPlace=this.autoPlace;this.load&&this.load.folders&&this.load.folders[a]&&
(c.closed=this.load.folders[a].closed,c.load=this.load.folders[a]);c=new H(c);this.__folders[a]=c;a=b(this,c.domElement);return t["default"].addClass(a,"folder"),c},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var a=this.getRoot();if(a.scrollable){var b=t["default"].getOffset(a.__ul).top,c=0;A["default"].each(a.__ul.childNodes,function(b){a.autoPlace&&b===a.__save_row||(c+=t["default"].getHeight(b))});window.innerHeight-b-20<c?(t["default"].addClass(a.domElement,
H.CLASS_TOO_TALL),a.__ul.style.height=window.innerHeight-b-20+"px"):(t["default"].removeClass(a.domElement,H.CLASS_TOO_TALL),a.__ul.style.height="auto")}a.__resize_handle&&A["default"].defer(function(){a.__resize_handle.style.height=a.__ul.offsetHeight+"px"});a.__closeButton&&(a.__closeButton.style.width=a.width+"px")},onResizeDebounced:A["default"].debounce(function(){this.onResize()},200),remember:function(){if(A["default"].isUndefined(N)&&(N=new z["default"],N.domElement.innerHTML=r["default"]),
this.parent)throw Error("You can only call remember on a top level GUI.");var a=this;A["default"].each(Array.prototype.slice.call(arguments),function(b){0===a.__rememberedObjects.length&&k(a);-1===a.__rememberedObjects.indexOf(b)&&a.__rememberedObjects.push(b)});this.autoPlace&&y(this,this.width)},getRoot:function(){for(var a=this;a.parent;)a=a.parent;return a},getSaveObject:function(){var a=this.load;return a.closed=this.closed,0<this.__rememberedObjects.length&&(a.preset=this.preset,a.remembered||
(a.remembered={}),a.remembered[this.preset]=I(this)),a.folders={},A["default"].each(this.__folders,function(b,c){a.folders[c]=b.getSaveObject()}),a},save:function(){this.load.remembered||(this.load.remembered={});this.load.remembered[this.preset]=I(this);a(this,!1);this.saveToLocalStorageIfPossible()},saveAs:function(a){this.load.remembered||(this.load.remembered={},this.load.remembered[L]=I(this,!0));this.load.remembered[a]=I(this);this.preset=a;l(this,a,!0);this.saveToLocalStorageIfPossible()},
revert:function(b){A["default"].each(this.__controllers,function(a){this.getRoot().load.remembered?e(b||this.getRoot(),a):a.setValue(a.initialValue);a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())},this);A["default"].each(this.__folders,function(a){a.revert(a)});b||a(this.getRoot(),!1)},listen:function(a){var b=0===this.__listening.length;this.__listening.push(a);b&&K(this.__listening)},updateDisplay:function(){A["default"].each(this.__controllers,function(a){a.updateDisplay()});A["default"].each(this.__folders,
function(a){a.updateDisplay()})}});f.exports=H},function(f,g){f.exports={load:function(d,f){var b=f||document,a=b.createElement("link");a.type="text/css";a.rel="stylesheet";a.href=d;b.getElementsByTagName("head")[0].appendChild(a)},inject:function(d,f){var b=f||document,a=document.createElement("style");a.type="text/css";a.innerHTML=d;b=b.getElementsByTagName("head")[0];try{b.appendChild(a)}catch(c){}}}},function(f,g){f.exports="<div id=dg-save class=\"dg dialogue\"> Here's the new load parameter for your <code>GUI</code>'s constructor: <textarea id=dg-new-constructor></textarea> <div id=dg-save-locally> <input id=dg-local-storage type=checkbox /> Automatically save values to <code>localStorage</code> on exit. <div id=dg-local-explain>The values saved to <code>localStorage</code> will override those passed to <code>dat.GUI</code>'s constructor. This makes it easier to work incrementally, but <code>localStorage</code> is fragile, and your friends may not see the same values you do. </div> </div> </div>"},
function(f,g,d){function h(a){return a&&a.__esModule?a:{"default":a}}g.__esModule=!0;f=d(10);var b=h(f);f=d(13);var a=h(f);f=d(14);var c=h(f);f=d(11);var e=h(f);f=d(15);var n=h(f);f=d(8);var l=h(f);d=d(5);var k=h(d);g["default"]=function(d,f,g,h,E){var m=d[f];return k["default"].isArray(g)||k["default"].isObject(g)?new b["default"](d,f,g):k["default"].isNumber(m)?k["default"].isNumber(g)&&k["default"].isNumber(h)?k["default"].isNumber(E)?new c["default"](d,f,g,h,E):new c["default"](d,f,g,h):k["default"].isNumber(E)?
new a["default"](d,f,{min:g,max:h,step:E}):new a["default"](d,f,{min:g,max:h}):k["default"].isString(m)?new e["default"](d,f):k["default"].isFunction(m)?new n["default"](d,f,""):k["default"].isBoolean(m)?new l["default"](d,f):null}},function(f,g){function d(d){setTimeout(d,1E3/60)}g.__esModule=!0;g["default"]=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||d},function(f,g,d){g.__esModule=
!0;var h=(f=d(9))&&f.__esModule?f:{"default":f},b=(d=d(5))&&d.__esModule?d:{"default":d};d=function(){function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");this.backgroundElement=document.createElement("div");b["default"].extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"});h["default"].makeFullscreen(this.backgroundElement);
this.backgroundElement.style.position="fixed";this.domElement=document.createElement("div");b["default"].extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"});document.body.appendChild(this.backgroundElement);document.body.appendChild(this.domElement);var c=this;h["default"].bind(this.backgroundElement,"click",function(){c.hide()})}return a.prototype.show=
function(){var a=this;this.backgroundElement.style.display="block";this.domElement.style.display="block";this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)";this.layout();b["default"].defer(function(){a.backgroundElement.style.opacity=1;a.domElement.style.opacity=1;a.domElement.style.webkitTransform="scale(1)"})},a.prototype.hide=function(){var a=this,b=function l(){a.domElement.style.display="none";a.backgroundElement.style.display="none";h["default"].unbind(a.domElement,
"webkitTransitionEnd",l);h["default"].unbind(a.domElement,"transitionend",l);h["default"].unbind(a.domElement,"oTransitionEnd",l)};h["default"].bind(this.domElement,"webkitTransitionEnd",b);h["default"].bind(this.domElement,"transitionend",b);h["default"].bind(this.domElement,"oTransitionEnd",b);this.backgroundElement.style.opacity=0;this.domElement.style.opacity=0;this.domElement.style.webkitTransform="scale(1.1)"},a.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-h["default"].getWidth(this.domElement)/
2+"px";this.domElement.style.top=window.innerHeight/2-h["default"].getHeight(this.domElement)/2+"px"},a}();g["default"]=d},function(f,g,d){g=f.exports=d(24)();g.push([f.id,".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1!important}.dg.main .close-button.drag,.dg.main:hover .close-button{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;transition:opacity .1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save>ul{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height .1s ease-out;transition:height .1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid transparent}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.boolean,.dg .cr.boolean *,.dg .cr.function,.dg .cr.function *,.dg .cr.function .property-name{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco,monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px Lucida Grande,sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid hsla(0,0%,100%,.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.boolean:hover,.dg .cr.function:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}",
""])},function(f,g){f.exports=function(){var d=[];return d.toString=function(){for(var d=[],b=0;b<this.length;b++){var a=this[b];a[2]?d.push("@media "+a[2]+"{"+a[1]+"}"):d.push(a[1])}return d.join("")},d.i=function(f,b){"string"==typeof f&&(f=[[null,f,""]]);for(var a={},c=0;c<this.length;c++){var e=this[c][0];"number"==typeof e&&(a[e]=!0)}for(c=0;c<f.length;c++)e=f[c],"number"==typeof e[0]&&a[e[0]]||(b&&!e[2]?e[2]=b:b&&(e[2]="("+e[2]+") and ("+b+")"),d.push(e))},d}}])});
function createCamera(){this.getViewMatrix=getViewMatrix;this.params=camera_params;this.camera_keydown=camera_keydown;this.camera_keyup=camera_keyup;this.camera_mousemove=camera_mousemove;this.camera_mousedown=camera_mousedown;this.camera_mouseup=camera_mouseup;this.camera_zoom=camera_zoom;this.camera_touchdown=camera_touchdown;this.camera_touchup=camera_touchup;this.camera_touchmove=camera_touchmove;this.pos=vec3.fromValues(0,0,0);this.up=vec3.fromValues(0,1,0);this.front=vec3.fromValues(0,0,-1);
this.frontCross=vec3.fromValues(0,0,0);this.dir=vec3.fromValues(0,0,0);this.speed=5;this.zoom_smoothness=.1;this.autoRotate=this.autoCentered=!1;this.radius=this.autoRotateSpeed=3;this.look=[0,0,0];this.mousecontrols=!0;this.depth_of_field_transform_count=0;this.lookAt=mat4.create();this.yaw=-1.57;this.pitch=0;this.deltaRot=[0,0];this.lastPos=[null,null];this.deltazoom=0;this.dragging=!1;this.startingZoom=window.zoom;this.zoomdefined=!1;this.smoothDeltaTimeCheck=!0;this.rotationSensitivity=.002;this.pressedKeys=
{w:!1,s:!1,a:!1,d:!1,space:!1,shift:!1,la:!1,ua:!1,ra:!1,da:!1};this.mousecontrols&&(window.addEventListener("keydown",this.camera_keydown.bind(this)),window.addEventListener("keyup",this.camera_keyup.bind(this)),document.getElementById("canvas").addEventListener("mousemove",this.camera_mousemove.bind(this)),document.getElementById("canvas").addEventListener("mousedown",this.camera_mousedown.bind(this)),window.addEventListener("mouseup",this.camera_mouseup.bind(this)),document.getElementById("canvas").addEventListener("touchstart",
this.camera_touchdown.bind(this)),document.getElementById("canvas").addEventListener("touchmove",this.camera_touchmove.bind(this)),window.addEventListener("touchend",this.camera_touchup.bind(this)),window.addEventListener("mousewheel",this.camera_zoom.bind(this)),window.addEventListener("DOMMouseScroll",this.camera_zoom.bind(this)))}
function camera_params(f,g,d,h,b){void 0!==f&&(this.zoom_smoothness=f);void 0!==g&&(this.speed=g);void 0!==d&&(this.startingZoom=d);void 0!==h&&(this.smoothDeltaTimeCheck=h);void 0!==b&&(this.rotationSensitivity=b)}
function getViewMatrix(f,g){this.smoothDeltaTimeCheck&&.03333>=f&&!(.01>f)&&(f=.016);this.zoomdefined||(this.startingZoom=zoom,this.zoomdefined=!0);if(this.autoCentered)return camera_getAutocenteredViewMatrix.call(this,f,g,this.radius);if(this.pressedKeys.w||this.pressedKeys.ua)this.pos[0]+=f*this.speed*this.front[0],this.pos[1]+=f*this.speed*this.front[1],this.pos[2]+=f*this.speed*this.front[2];if(this.pressedKeys.s||this.pressedKeys.da)this.pos[0]-=f*this.speed*this.front[0],this.pos[1]-=f*this.speed*
this.front[1],this.pos[2]-=f*this.speed*this.front[2];if(this.pressedKeys.d||this.pressedKeys.ra)this.frontCross=vec3.cross(this.frontCross,this.front,this.up),vec3.normalize(this.frontCross,this.frontCross),this.pos[0]+=f*this.speed*this.frontCross[0],this.pos[1]+=f*this.speed*this.frontCross[1],this.pos[2]+=f*this.speed*this.frontCross[2];if(this.pressedKeys.a||this.pressedKeys.la)this.frontCross=vec3.cross(this.frontCross,this.front,this.up),vec3.normalize(this.frontCross,this.frontCross),this.pos[0]-=
f*this.speed*this.frontCross[0],this.pos[1]-=f*this.speed*this.frontCross[1],this.pos[2]-=f*this.speed*this.frontCross[2];this.pressedKeys.space&&(this.pos[0]+=f*this.speed*this.up[0],this.pos[1]+=f*this.speed*this.up[1],this.pos[2]+=f*this.speed*this.up[2]);this.pressedKeys.shift&&(this.pos[0]-=f*this.speed*this.up[0],this.pos[1]-=f*this.speed*this.up[1],this.pos[2]-=f*this.speed*this.up[2]);this.yaw+=this.deltaRot[0]*g;this.pitch-=this.deltaRot[1]*g;this.deltaRot[0]-=this.deltaRot[0]*g;this.deltaRot[1]-=
this.deltaRot[1]*g;1.565<this.pitch&&(this.pitch=1.565);-1.565>this.pitch&&(this.pitch=-1.565);this.front[0]=Math.cos(this.yaw)*Math.cos(this.pitch);this.front[1]=Math.sin(this.pitch);this.front[2]=Math.sin(this.yaw)*Math.cos(this.pitch);vec3.normalize(this.front,this.front);if(0<Math.abs(this.deltazoom)){var d=this.deltazoom*this.zoom_smoothness;0>this.deltazoom&&(this.deltazoom=-.01>this.deltazoom?this.deltazoom-d:0);0<this.deltazoom&&(this.deltazoom=.01<this.deltazoom?this.deltazoom-d:0);zoom+=
d;44.5>zoom&&(zoom=44.5);zoom>this.startingZoom&&(zoom=this.startingZoom)}this.dir[0]=this.pos[0]+this.front[0];this.dir[1]=this.pos[1]+this.front[1];this.dir[2]=this.pos[2]+this.front[2];mat4.lookAt(this.lookAt,this.pos,this.dir,this.up);return this.lookAt}
function camera_keydown(f){switch(f.keyCode){case 87:this.pressedKeys.w=!0;break;case 65:this.pressedKeys.a=!0;break;case 83:this.pressedKeys.s=!0;break;case 68:this.pressedKeys.d=!0;break;case 32:this.pressedKeys.space=!0;break;case 16:this.pressedKeys.shift=!0;break;case 37:this.pressedKeys.la=!0;break;case 38:this.pressedKeys.ua=!0;break;case 39:this.pressedKeys.ra=!0;break;case 40:this.pressedKeys.da=!0}}
function camera_keyup(f){switch(f.keyCode){case 87:this.pressedKeys.w=!1;break;case 65:this.pressedKeys.a=!1;break;case 83:this.pressedKeys.s=!1;break;case 68:this.pressedKeys.d=!1;break;case 32:this.pressedKeys.space=!1;break;case 16:this.pressedKeys.shift=!1;break;case 37:this.pressedKeys.la=!1;break;case 38:this.pressedKeys.ua=!1;break;case 39:this.pressedKeys.ra=!1;break;case 40:this.pressedKeys.da=!1}}
function camera_mousemove(f){this.dragging&&(this.deltaRot[0]+=(f.clientX-this.lastPos[0])*this.rotationSensitivity,this.deltaRot[1]+=(f.clientY-this.lastPos[1])*this.rotationSensitivity,this.lastPos[0]=f.clientX,this.lastPos[1]=f.clientY)}
function camera_touchmove(f){this.dragging&&(this.deltaRot[0]+=(f.touches[0].clientX-this.lastPos[0])*this.rotationSensitivity,this.deltaRot[1]+=(f.touches[0].clientY-this.lastPos[1])*this.rotationSensitivity,this.lastPos[0]=f.touches[0].clientX,this.lastPos[1]=f.touches[0].clientY)}function camera_mousedown(f){1==f.which&&(this.lastPos[0]=f.clientX,this.lastPos[1]=f.clientY,this.dragging=!0)}function camera_mouseup(f){this.dragging=!1}
function camera_touchdown(f){this.lastPos[0]=f.touches[0].clientX;this.lastPos[1]=f.touches[0].clientY;this.dragging=!0}function camera_touchup(f){this.dragging=!1}function camera_zoom(f){this.deltazoom=0<(f.wheelDelta?f.wheelDelta:-f.detail)?this.deltazoom+-.15:this.deltazoom+.15}
function camera_getAutocenteredViewMatrix(f,g,d){this.yaw+=this.deltaRot[0]*g;this.pitch-=this.deltaRot[1]*g;this.autoRotate&&(this.yaw+=this.autoRotateSpeed/180*Math.PI*f);this.deltaRot[0]-=this.deltaRot[0]*g;this.deltaRot[1]-=this.deltaRot[1]*g;1.565<this.pitch&&(this.pitch=1.565);-1.565>this.pitch&&(this.pitch=-1.565);0<Math.abs(this.deltazoom)&&(f=this.deltazoom*this.zoom_smoothness,0>this.deltazoom&&(this.deltazoom=-.01>this.deltazoom?this.deltazoom-f:0),0<this.deltazoom&&(this.deltazoom=.01<
this.deltazoom?this.deltazoom-f:0),zoom+=f,44.5>zoom&&(zoom=44.5),zoom>this.startingZoom&&(zoom=this.startingZoom));f=Math.cos(this.yaw)*Math.cos(this.pitch)*d;g=Math.sin(this.yaw)*Math.cos(this.pitch)*d;var h=Math.sin(this.pitch)*d;this.pos[0]=f+this.look[0];this.pos[1]=h+this.look[1];this.pos[2]=-g+this.look[2];mat4.lookAt(this.lookAt,this.pos,this.look,this.up);0!=this.depth_of_field_transform_count&&(f=6.28*this.depth_of_field_transform_count/10,g=this.yaw+Math.cos(f)/150,h=this.pitch+Math.sin(f)/
150,f=Math.cos(g)*Math.cos(h)*d,g=Math.sin(g)*Math.cos(h)*d,h=Math.sin(h)*d,this.pos[0]=f+this.look[0],this.pos[1]=h+this.look[1],this.pos[2]=-g+this.look[2],mat4.lookAt(this.lookAt,this.pos,this.look,this.up));return this.lookAt}
function getShader(f,g,d){d?(f=retrieveShader(f,"vertex"),g=retrieveShader(g,"fragment")):(f=shader(f),g=shader(g));d=gl.createProgram();gl.attachShader(d,f);gl.attachShader(d,g);gl.linkProgram(d);return gl.getProgramParameter(d,gl.LINK_STATUS)?d:(alert("Could not initialise shaders"),null)}function retrieveShader(f,g){}
function shader(f){var g=document.getElementById(f);if(!g)return null;for(var d="",h=g.firstChild;h;)3==h.nodeType&&(d+=h.textContent),h=h.nextSibling;if("frag"==g.type)g=gl.createShader(gl.FRAGMENT_SHADER);else if("vert"==g.type)g=gl.createShader(gl.VERTEX_SHADER);else return null;gl.shaderSource(g,d);gl.compileShader(g);return gl.getShaderParameter(g,gl.COMPILE_STATUS)?g:(alert(gl.getShaderInfoLog(g)+"  "+f),null)}
function getShaderCustomContext(f,g,d,h){f=shaderCustomContext(f,h);g=shaderCustomContext(g,h);d=h.createProgram();h.attachShader(d,f);h.attachShader(d,g);h.linkProgram(d);return h.getProgramParameter(d,h.LINK_STATUS)?d:(alert("Could not initialise shaders"),null)}
function shaderCustomContext(f,g){var d=document.getElementById(f);if(!d)return null;for(var h="",b=d.firstChild;b;)3==b.nodeType&&(h+=b.textContent),b=b.nextSibling;if("frag"==d.type)d=g.createShader(g.FRAGMENT_SHADER);else if("vert"==d.type)d=g.createShader(g.VERTEX_SHADER);else return null;g.shaderSource(d,h);g.compileShader(d);return g.getShaderParameter(d,g.COMPILE_STATUS)?d:(alert(g.getShaderInfoLog(d)+"  "+f),null)};